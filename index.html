<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studio Aline Menezes</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .background-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="50%" cy="50%"><stop offset="0%" stop-color="%23ffffff" stop-opacity="0.1"/><stop offset="100%" stop-color="%23000000" stop-opacity="0.05"/></radialGradient></defs><rect width="100%" height="100%" fill="url(%23a)"/></svg>') center/cover;
            backdrop-filter: blur(2px);
            z-index: -1;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .main-content-overlay {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .main-content-overlay::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            border-radius: 25px;
            pointer-events: none;
        }

        .logo-container {
            margin-bottom: 40px;
            text-align: center;
            margin-top: 0;
            position: relative;
            z-index: 2;
        }

        .studio-name {
            color: white;
            font-size: 32px;
            font-weight: 300;
            font-family: 'Poppins', sans-serif;
            letter-spacing: 3px;
            text-transform: uppercase;
            text-shadow: 0 4px 20px rgba(0,0,0,0.8);
            margin-bottom: 40px;
        }

        .main-buttons {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
            max-width: 400px;
            position: relative;
            z-index: 2;
        }

        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            padding: 18px 30px;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .btn-instagram {
            background: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);
        }

        .btn-whatsapp {
            background: #25D366;
        }

        .btn-maps {
            background: #4285F4;
        }

        .btn-client {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #000;
            font-weight: 600;
            animation: pulse 2s infinite;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 8px 25px rgba(255, 215, 0, 0.6);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
            }
        }

        .btn-admin {
            background: #2d3436;
        }

        .btn-uber {
            background: #000000;
        }

        .btn-99 {
            background: #FFD700;
            color: #000000;
        }

        .icon {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translate(-50%, -60%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        .modal-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            color: #2d3436;
            margin-bottom: 10px;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #636e72;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: #f1f2f6;
            color: #2d3436;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2d3436;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
            background: white;
            color: #2d3436;
            font-weight: 500;
        }

        .form-input:focus {
            outline: none;
            border-color: #6c5ce7;
            background: #ffffff;
            box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.1);
        }

        .form-input::placeholder {
            color: #95a5a6;
            font-weight: 400;
        }

        .form-btn {
            width: 100%;
            padding: 15px;
            background: #6c5ce7;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .form-btn:hover {
            background: #5f3dc4;
            transform: translateY(-1px);
        }

        .panel {
            display: none;
            padding: 20px;
            background: white;
            margin: 20px;
            border-radius: 15px;
            min-height: calc(100vh - 40px);
        }

        .panel-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: #636e72;
            color: black;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
        }

        .success {
            background: #00b894;
            color: black;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            display: none;
        }

        .error {
            background: #e17055;
            color: black;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            display: none;
        }

        .admin-section {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .client-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border: 1px solid #ddd;
        }

        /* Client Panel */
        .panel {
            display: none;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            border-radius: 0;
            min-height: 100vh;
            position: relative;
        }

        .client-panel-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-top: 20px;
            margin-bottom: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .panel-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        .panel-header h1 {
            color: #2d3436;
            font-size: 28px;
            margin: 0 0 10px 0;
            font-weight: 600;
        }

        .panel-header p {
            color: #636e72;
            font-size: 16px;
            margin: 0;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.9);
            color: #2d3436;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .success {
            background: linear-gradient(45deg, #00b894, #00a085);
            color: black;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            display: none;
            text-align: center;
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(0, 184, 148, 0.3);
        }

        .error {
            background: linear-gradient(45deg, #e17055, #d63031);
            color: black;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            display: none;
            text-align: center;
            font-weight: 500;
        }

        .booking-section {
            margin: 30px 0;
            padding: 25px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #2d3436;
            margin: 0 0 20px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin: 20px 0;
        }

        .calendar-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-bottom: 10px;
        }

        .calendar-day-header {
            text-align: center;
            font-weight: 600;
            color: #636e72;
            padding: 10px;
            font-size: 14px;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 500;
            font-size: 16px;
            color: #2d3436;
            transition: all 0.3s ease;
            min-height: 50px;
        }

        .calendar-day:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: scale(1.05);
        }

        .calendar-day.selected {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: black;
            border-color: #667eea;
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .calendar-day.disabled {
            opacity: 0.3;
            cursor: not-allowed;
            background: #f1f2f6;
        }

        .calendar-day.disabled:hover {
            transform: none;
            background: #f1f2f6;
            border-color: #e9ecef;
        }

        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .time-slot {
            padding: 15px 20px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: 500;
            font-size: 16px;
            color: #2d3436;
            transition: all 0.3s ease;
        }

        .time-slot:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: translateY(-2px);
        }

        .time-slot.selected {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: black;
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .service-selector {
            margin: 20px 0;
        }

        .service-dropdown {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 500;
            background: white;
            color: #2d3436;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .service-dropdown:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .service-dropdown:hover {
            border-color: #667eea;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.1);
        }

        .service-details {
            margin-top: 20px;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .service-card {
            background: linear-gradient(135deg, #f8f9ff, #e8f2ff);
            padding: 25px;
            border: 2px solid #667eea;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
        }

        .service-card h4 {
            color: #2d3436;
            font-size: 18px;
            font-weight: 600;
            margin: 0 0 15px 0;
        }

        .service-info {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .service-price {
            color: #00b894;
            font-size: 24px;
            font-weight: 700;
            background: white;
            padding: 8px 16px;
            border-radius: 25px;
            box-shadow: 0 2px 10px rgba(0, 184, 148, 0.2);
        }

        .service-duration {
            color: #636e72;
            font-size: 16px;
            font-weight: 500;
            background: white;
            padding: 8px 16px;
            border-radius: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .confirm-booking-btn {
            width: 100%;
            max-width: 400px;
            margin: 40px auto 20px auto;
            display: block;
            padding: 20px 30px;
            background: linear-gradient(45deg, #00b894, #00a085);
            color: black;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 184, 148, 0.3);
        }

        .confirm-booking-btn:hover:not(:disabled) {
            background: linear-gradient(45deg, #00a085, #00b894);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 184, 148, 0.4);
        }

        .confirm-booking-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .selection-summary {
            background: linear-gradient(135deg, #f8f9ff, #e8f2ff);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid #667eea;
        }

        .selection-summary h4 {
            color: #000000;
            margin: 0 0 15px 0;
            font-size: 18px;
        }

        .selection-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
            color: #000000;
        }

        .selection-item:last-child {
            border-bottom: none;
            font-weight: 600;
            color: #000000;
        }

        /* Admin Tabs Styles */
        .admin-tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 30px;
            overflow-x: auto;
        }

        .tab-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            border: none;
            background: transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-size: 14px;
            font-weight: 500;
            color: #6c757d;
        }

        .tab-btn:hover {
            background: #e9ecef;
            color: #495057;
        }

        .tab-btn.active {
            background: #007bff;
            color: black;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stat-icon .icon {
            width: 24px;
            height: 24px;
            fill: white;
        }

        .stat-info h3 {
            margin: 0;
            font-size: 24px;
            font-weight: bold;
            color: #2d3436;
        }

        .stat-info p {
            margin: 5px 0 0 0;
            color: #636e72;
            font-size: 14px;
        }

        /* Section Headers */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .section-header h3 {
            margin: 0;
            color: #2d3436;
        }

        /* Search Bar */
        .search-bar {
            margin-bottom: 20px;
        }

        .search-bar input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            box-sizing: border-box;
        }

        /* Filter Controls */
        .filter-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-controls select {
            padding: 8px 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: white;
            cursor: pointer;
        }

        /* Reports Grid */
        .reports-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .report-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .report-card h4 {
            margin: 0 0 15px 0;
            color: #2d3436;
        }

        /* Settings Grid */
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .setting-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .setting-card h4 {
            margin: 0 0 20px 0;
            color: #2d3436;
        }

        /* Enhanced Client Items */
        .client-item {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 15px;
            border: 1px solid #e9ecef;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .client-item:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .client-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .client-actions button {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-edit {
            background: #17a2b8;
            color: black;
        }

        .btn-delete {
            background: #dc3545;
            color: black;
        }

        .btn-whatsapp {
            background: #25D366;
            color: black;
        }

        /* Image Gallery Styles */
        .background-gallery, .service-image-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin: 15px 0;
            max-height: 300px;
            overflow-y: auto;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            background: #f8f9fa;
        }

        .gallery-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .gallery-item:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .gallery-item.selected {
            border-color: #667eea;
            transform: scale(1.05);
        }

        .gallery-item img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            display: block;
        }

        .gallery-item .item-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 10px 5px 5px;
            font-size: 12px;
            text-align: center;
        }

        .gallery-item .delete-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-size: 12px;
            display: none;
        }

        .gallery-item:hover .delete-btn {
            display: block;
        }

        .upload-progress {
            margin: 10px 0;
            padding: 10px;
            background: #e3f2fd;
            border-radius: 8px;
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 5px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Service Selection with Images */
        .service-option {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .service-option:hover {
            border-color: #667eea;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.1);
        }

        .service-option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #f8f9ff, #e8f2ff);
        }

        .service-option img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .service-option .service-details {
            flex: 1;
        }

        .service-option .service-name {
            font-size: 16px;
            font-weight: 600;
            color: #2d3436;
            margin-bottom: 5px;
        }

        .service-option .service-price {
            font-size: 18px;
            font-weight: 700;
            color: #00b894;
            margin-bottom: 5px;
        }

        .service-option .service-duration {
            font-size: 14px;
            color: #636e72;
        }

        /* Mobile Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
                min-height: 100vh;
            }

            .main-content-overlay {
                padding: 20px;
                margin: 10px;
                border-radius: 20px;
            }

            .studio-name {
                font-size: 24px;
                letter-spacing: 2px;
                margin-bottom: 30px;
            }

            .main-buttons {
                max-width: 100%;
                gap: 15px;
            }

            .btn {
                padding: 15px 20px;
                font-size: 15px;
            }

            .modal-content {
                width: 95%;
                max-width: none;
                padding: 25px;
                margin: 10px;
            }

            .modal-title {
                font-size: 20px;
            }

            .form-input {
                font-size: 16px;
                padding: 15px;
            }

            .client-panel-content {
                margin: 10px;
                padding: 15px;
                border-radius: 15px;
            }

            .panel-header h1 {
                font-size: 24px;
            }

            .booking-section {
                padding: 20px;
                margin: 20px 0;
            }

            .section-title {
                font-size: 18px;
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .calendar {
                gap: 5px;
            }

            .calendar-day {
                min-height: 40px;
                font-size: 14px;
            }

            .time-slots {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                gap: 10px;
            }

            .time-slot {
                padding: 12px 15px;
                font-size: 14px;
            }

            .service-dropdown {
                padding: 12px 15px;
                font-size: 15px;
            }

            .service-card {
                padding: 20px;
            }

            .service-info {
                flex-direction: column;
                gap: 10px;
            }

            .confirm-booking-btn {
                padding: 18px 25px;
                font-size: 16px;
                margin: 30px auto 15px auto;
            }

            .selection-summary {
                padding: 15px;
            }

            .back-btn {
                padding: 10px 15px;
                font-size: 14px;
            }

            /* Admin Panel Mobile */
            .admin-tabs {
                flex-direction: column;
                overflow-x: visible;
            }

            .tab-btn {
                justify-content: center;
                padding: 15px 20px;
                font-size: 15px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .stat-card {
                padding: 15px;
            }

            .stat-icon {
                width: 40px;
                height: 40px;
            }

            .stat-info h3 {
                font-size: 20px;
            }

            .section-header {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }

            .filter-controls {
                justify-content: stretch;
                flex-direction: column;
            }

            .filter-controls select {
                flex: 1;
                margin-bottom: 10px;
            }

            .search-bar input {
                font-size: 16px;
                padding: 15px;
            }

            .client-item {
                padding: 15px;
                margin: 8px 0;
            }

            .client-actions {
                flex-direction: column;
                gap: 8px;
                margin-top: 10px;
            }

            .client-actions button {
                padding: 10px 15px;
                font-size: 14px;
            }

            .settings-grid, .reports-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .setting-card, .report-card {
                padding: 15px;
            }

            .background-gallery, .service-image-gallery {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
                gap: 10px;
                padding: 10px;
                max-height: 250px;
            }

            .gallery-item img {
                height: 80px;
            }

            .gallery-item .item-info {
                font-size: 11px;
                padding: 8px 3px 3px;
            }

            .service-option {
                flex-direction: column;
                text-align: center;
                padding: 12px;
            }

            .service-option img {
                width: 60px;
                height: 60px;
            }

            .service-option .service-name {
                font-size: 14px;
            }

            .service-option .service-price {
                font-size: 16px;
            }

            .service-option .service-duration {
                font-size: 13px;
            }

            .form-group {
                margin-bottom: 15px;
            }

            .form-btn {
                padding: 18px;
                font-size: 16px;
            }

            .admin-section {
                padding: 15px;
                margin: 15px 0;
            }

            /* Location Modal Mobile */
            .modal-content {
                border-radius: 15px;
            }

            /* Calendar Mobile Improvements */
            .calendar-header {
                gap: 5px;
                margin-bottom: 8px;
            }

            .calendar-day-header {
                padding: 8px;
                font-size: 13px;
            }

            /* Service Details Mobile */
            .service-details {
                margin-top: 15px;
            }

            .service-card h4 {
                font-size: 16px;
                margin-bottom: 12px;
            }

            .service-price {
                font-size: 20px;
                padding: 6px 12px;
            }

            .service-duration {
                font-size: 14px;
                padding: 6px 12px;
            }

            /* Upload Progress Mobile */
            .upload-progress {
                margin: 8px 0;
                padding: 8px;
            }

            .progress-bar {
                height: 15px;
            }

            /* Reminder and Appointment Items Mobile */
            .selection-item {
                padding: 6px 0;
                font-size: 14px;
            }

            /* Better touch targets */
            .btn, .time-slot, .calendar-day, .service-option, .gallery-item {
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .gallery-item {
                min-height: auto;
            }

            /* Improved form inputs for mobile */
            .form-input, .service-dropdown {
                -webkit-appearance: none;
                border-radius: 10px;
                font-size: 16px; /* Prevents zoom on iOS */
            }

            /* Better modal positioning on mobile */
            .modal-content {
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                max-height: 90vh;
                overflow-y: auto;
            }

            /* Improved tab navigation */
            .admin-tabs {
                position: sticky;
                top: 0;
                z-index: 100;
                background: white;
                margin-bottom: 20px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }

            /* Better spacing for mobile */
            .panel {
                padding: 0;
            }

            .client-panel-content {
                margin: 5px;
                padding: 10px;
            }

            /* Improved message display */
            .success, .error {
                padding: 15px;
                margin: 15px 0;
                font-size: 14px;
                border-radius: 10px;
            }
        }

        /* Extra small screens */
        @media (max-width: 480px) {
            .studio-name {
                font-size: 20px;
                letter-spacing: 1px;
            }

            .main-content-overlay {
                padding: 15px;
            }

            .btn {
                padding: 12px 15px;
                font-size: 14px;
            }

            .modal-content {
                padding: 20px;
            }

            .calendar {
                gap: 3px;
            }

            .calendar-day {
                min-height: 35px;
                font-size: 13px;
            }

            .time-slots {
                grid-template-columns: repeat(2, 1fr);
            }

            .background-gallery, .service-image-gallery {
                grid-template-columns: repeat(3, 1fr);
            }

            .stats-grid {
                gap: 10px;
            }

            .stat-card {
                padding: 12px;
            }

            .client-actions {
                gap: 6px;
            }

            .client-actions button {
                padding: 8px 12px;
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <div class="background-overlay"></div>
    
    <!-- Landing Page -->
    <div id="landingPage" class="container">
        <div class="main-content-overlay">
            <div class="logo-container">
                <div class="studio-name">ALINE MENEZES BEAUTY</div>
            </div>
            
            <div class="main-buttons">
                <button class="btn btn-client" onclick="openModal('clientModal')">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                    Login Cliente
                </button>
                
                <button class="btn btn-admin" onclick="openModal('adminModal')">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                    </svg>
                    Login Admin
                </button>
                
                <a href="https://instagram.com/alinemenezes.beauty" target="_blank" rel="noopener noreferrer" class="btn btn-instagram">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                    </svg>
                    Instagram
                </a>
                
                <a href="https://wa.me/5549998200000" target="_blank" rel="noopener noreferrer" class="btn btn-whatsapp">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.085"/>
                    </svg>
                    WhatsApp
                </a>
                
                <button class="btn btn-maps" onclick="openLocationModal()">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                    </svg>
                    Como Chegar
                </button>
            </div>
        </div>
    </div>

    <!-- Client Login Modal -->
    <div id="clientModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('clientModal')">&times;</button>
            <div class="modal-header">
                <h2 class="modal-title">Área do Cliente</h2>
                <p>Faça seu cadastro ou login para agendar</p>
            </div>
            
            <div id="clientMsg" style="margin-bottom: 15px; padding: 10px; border-radius: 8px; text-align: center; display: none;"></div>
            
            <!-- Login Form -->
            <div id="clientLoginForm">
                <form onsubmit="loginClient(event)">
                    <div class="form-group">
                        <label for="loginName" class="form-label">Nome Completo</label>
                        <input type="text" id="loginName" class="form-input" placeholder="Digite seu nome completo" required>
                    </div>
                    <div class="form-group">
                        <label for="loginWhatsapp" class="form-label">WhatsApp</label>
                        <input type="tel" id="loginWhatsapp" class="form-input" placeholder="(49) 99999-9999" required>
                    </div>
                    <button type="submit" class="form-btn">Entrar</button>
                </form>
                
                <div style="text-align: center; margin-top: 20px;">
                    <p style="color: #636e72;">Primeira vez aqui?</p>
                    <button type="button" class="btn" onclick="showRegisterForm()" style="background: #00b894; color: white; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer;">
                        Fazer Cadastro
                    </button>
                </div>
            </div>

            <!-- Register Form -->
            <div id="clientRegisterForm" style="display: none;">
                <form onsubmit="registerClient(event)">
                    <div class="form-group">
                        <label for="registerName" class="form-label">Nome Completo</label>
                        <input type="text" id="registerName" class="form-input" placeholder="Digite seu nome completo" required>
                    </div>
                    <div class="form-group">
                        <label for="registerBirthdate" class="form-label">Data de Nascimento</label>
                        <input type="date" id="registerBirthdate" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="registerWhatsapp" class="form-label">WhatsApp</label>
                        <input type="tel" id="registerWhatsapp" class="form-input" placeholder="(49) 99999-9999" required>
                    </div>
                    <button type="submit" class="form-btn">Cadastrar</button>
                </form>
                
                <div style="text-align: center; margin-top: 20px;">
                    <p style="color: #636e72;">Já tem cadastro?</p>
                    <button type="button" class="btn" onclick="showLoginForm()" style="background: #6c5ce7; color: white; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer;">
                        Fazer Login
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Location Modal -->
    <div id="locationModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('locationModal')">&times;</button>
            <div class="modal-header">
                <h2 class="modal-title">Como Chegar</h2>
                <p>Escolha sua forma de transporte</p>
            </div>
            
            <div style="margin-bottom: 25px; padding: 20px; background: #f8f9fa; border-radius: 15px; text-align: center;">
                <h3 style="margin: 0 0 10px 0; color: #2d3436; font-size: 18px;">📍 Nosso Endereço</h3>
                <p style="margin: 0; color: #636e72; font-size: 16px; line-height: 1.5;">
                    Rua Manoel de Campos Salles, 461 - Sala 01<br>
                    Bairro São Cristóvão<br>
                    Chapecó - SC, CEP 89804-092
                </p>
            </div>
            
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <button class="btn btn-maps" onclick="openMaps()" style="margin: 0;">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                    </svg>
                    Abrir no Google Maps
                </button>
                
                <button class="btn btn-uber" onclick="openUber()" style="margin: 0;">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 5h2v2h-2V7zm0 4h2v6h-2v-6z"/>
                    </svg>
                    Chamar Uber
                </button>
                
                <button class="btn btn-99" onclick="open99()" style="margin: 0;">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 5h2v2h-2V7zm0 4h2v6h-2v-6z"/>
                        <text x="12" y="16" text-anchor="middle" fill="currentColor" font-size="8" font-weight="bold">99</text>
                    </svg>
                    Chamar 99
                </button>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('adminModal')">&times;</button>
            <div class="modal-header">
                <h2 class="modal-title">Login Administrador</h2>
                <p>Acesso restrito para administradores</p>
            </div>
            
            <div id="adminMsg" style="margin-bottom: 15px; padding: 10px; border-radius: 8px; text-align: center; display: none;"></div>
            
            <form onsubmit="adminLogin(event)">
                <div class="form-group">
                    <label for="adminUser" class="form-label">Usuário</label>
                    <input type="text" id="adminUser" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="adminPassword" class="form-label">Senha</label>
                    <input type="password" id="adminPassword" class="form-input" required>
                </div>
                <button type="submit" class="form-btn">Entrar</button>
                

            </form>
        </div>
    </div>

    <!-- Client Panel -->
    <div id="clientPanel" class="panel">
        <button class="back-btn" onclick="backToHome()">← Voltar</button>
        
        <div class="client-panel-content">
            <div class="panel-header">
                <h1>💅 Agendar Serviço</h1>
                <p>Siga os passos abaixo para fazer seu agendamento</p>
            </div>

            <div id="bookingSuccess" class="success">
                ✅ Agendamento realizado com sucesso!
            </div>

            <!-- Selection Summary -->
            <div id="selectionSummary" class="selection-summary" style="display: none;">
                <h4>📋 Resumo do Agendamento</h4>
                <div class="selection-item">
                    <span>📅 Data:</span>
                    <span id="summaryDate">-</span>
                </div>
                <div class="selection-item">
                    <span>🕐 Horário:</span>
                    <span id="summaryTime">-</span>
                </div>
                <div class="selection-item">
                    <span>💅 Serviço:</span>
                    <span id="summaryService">-</span>
                </div>
                <div class="selection-item">
                    <span>💰 Valor:</span>
                    <span id="summaryPrice">-</span>
                </div>
            </div>

            <!-- Step 1: Choose Service -->
            <div class="booking-section">
                <h3 class="section-title">
                    <span style="background: #667eea; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold;">1</span>
                    Escolha o Serviço
                </h3>
                <div class="service-selector">
                    <label for="serviceSelect" class="form-label">💅 Selecione o serviço desejado:</label>
                    <select id="serviceSelect" class="service-dropdown" onchange="selectServiceFromDropdown(this)">
                        <option value="">-- Clique aqui para escolher --</option>
                        <option value="Extensão de Cílios Volume Brasileiro" data-price="120.00" data-duration="120">Extensão de Cílios Volume Brasileiro - R$ 120,00</option>
                        <option value="Extensão de Cílios Volume Glamour" data-price="150.00" data-duration="150">Extensão de Cílios Volume Glamour - R$ 150,00</option>
                        <option value="Extensão de Cílios Volume Marrom" data-price="140.00" data-duration="140">Extensão de Cílios Volume Marrom - R$ 140,00</option>
                        <option value="Extensão de Cílios Volume Fox" data-price="160.00" data-duration="160">Extensão de Cílios Volume Fox - R$ 160,00</option>
                        <option value="Design de Sobrancelhas Personalizado" data-price="45.00" data-duration="45">Design de Sobrancelhas Personalizado - R$ 45,00</option>
                        <option value="Design de Sobrancelhas com Henna/Tintura" data-price="55.00" data-duration="60">Design de Sobrancelhas com Henna/Tintura - R$ 55,00</option>
                        <option value="Brow Lamination" data-price="80.00" data-duration="90">Brow Lamination - R$ 80,00</option>
                        <option value="Lash Lifting" data-price="70.00" data-duration="60">Lash Lifting - R$ 70,00</option>
                        <option value="Manutenção Volume Brasileiro" data-price="60.00" data-duration="60">Manutenção Volume Brasileiro - R$ 60,00</option>
                        <option value="Manutenção Volume Glamour" data-price="75.00" data-duration="75">Manutenção Volume Glamour - R$ 75,00</option>
                        <option value="Manutenção Volume Marrom" data-price="70.00" data-duration="70">Manutenção Volume Marrom - R$ 70,00</option>
                        <option value="Manutenção Volume Fox" data-price="80.00" data-duration="80">Manutenção Volume Fox - R$ 80,00</option>
                    </select>
                    
                    <!-- Service Details Display -->
                    <div id="serviceDetails" class="service-details" style="display: none;">
                        <div class="service-card">
                            <h4 id="selectedServiceName">Serviço Selecionado</h4>
                            <div class="service-info">
                                <span class="service-price" id="selectedServicePrice">R$ 0,00</span>
                                <span class="service-duration" id="selectedServiceDuration">⏱️ 0 min</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 2: Choose Date -->
            <div class="booking-section">
                <h3 class="section-title">
                    <span style="background: #667eea; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold;">2</span>
                    Escolha a Data
                </h3>
                <div class="calendar-header">
                    <div class="calendar-day-header">Dom</div>
                    <div class="calendar-day-header">Seg</div>
                    <div class="calendar-day-header">Ter</div>
                    <div class="calendar-day-header">Qua</div>
                    <div class="calendar-day-header">Qui</div>
                    <div class="calendar-day-header">Sex</div>
                    <div class="calendar-day-header">Sáb</div>
                </div>
                <div class="calendar" id="calendar"></div>
            </div>

            <!-- Step 3: Choose Time -->
            <div class="booking-section">
                <h3 class="section-title">
                    <span style="background: #667eea; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold;">3</span>
                    Escolha o Horário
                </h3>
                <div class="time-slots" id="timeSlots"></div>
            </div>

            <button class="confirm-booking-btn" onclick="confirmBooking()" id="confirmBtn" disabled>
                🎯 Confirmar Agendamento
            </button>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="panel">
        <button class="back-btn" onclick="backToHome()">← Voltar</button>
        
        <div class="panel-header">
            <h1>Painel Administrativo</h1>
            <p>Bem-vinda, Aline!</p>
        </div>

        <div id="adminSuccess" class="success"></div>

        <!-- Admin Navigation Tabs -->
        <div class="admin-tabs">
            <button class="tab-btn active" onclick="showTab('dashboard')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg>
                Dashboard
            </button>
            <button class="tab-btn" onclick="showTab('clients')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A2.996 2.996 0 0 0 17.06 7H16.94c-1.08 0-2.07.56-2.63 1.37L12 12l2.31 3.63c.56.81 1.55 1.37 2.63 1.37H18V22h2zM12.5 11.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm1.5 16v-5H9l-2.54-7.63A2.996 2.996 0 0 0 3.56 8H2.44c-1.08 0-2.07.56-2.63 1.37L-2.5 13l2.31 3.63c.56.81 1.55 1.37 2.63 1.37H4V22h3z"/></svg>
                Clientes
            </button>
            <button class="tab-btn" onclick="showTab('appointments')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg>
                Agendamentos
            </button>
            <button class="tab-btn" onclick="showTab('reports')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"/></svg>
                Relatórios
            </button>
            <button class="tab-btn" onclick="showTab('reminders')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm3.5 6L11 13.5l-1.5-1.5L8 13.5 11 16.5l6-6-1.5-1.5z"/></svg>
                Lembretes
            </button>
            <button class="tab-btn" onclick="showTab('settings')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/></svg>
                Configurações
            </button>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboardTab" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon" style="background: #007bff;">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2z"/></svg>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalClients">0</h3>
                        <p>Total Clientes</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: #28a745;">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>
                    </div>
                    <div class="stat-info">
                        <h3 id="todayAppointments">0</h3>
                        <p>Hoje</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: #ffc107;">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>
                    </div>
                    <div class="stat-info">
                        <h3 id="monthAppointments">0</h3>
                        <p>Este Mês</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: #17a2b8;">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/></svg>
                    </div>
                    <div class="stat-info">
                        <h3 id="monthRevenue">R$ 0</h3>
                        <p>Receita Mês</p>
                    </div>
                </div>
            </div>

            <div class="admin-section">
                <h3>📅 Próximos Agendamentos</h3>
                <div id="upcomingAppointments"></div>
            </div>
        </div>

        <!-- Clients Tab -->
        <div id="clientsTab" class="tab-content">
            <div class="section-header">
                <h3>👥 Gerenciar Clientes</h3>
                <button class="btn btn-admin" onclick="showAddClientForm()">+ Novo Cliente</button>
            </div>

            <div class="search-bar">
                <input type="text" id="clientSearch" placeholder="🔍 Buscar cliente..." onkeyup="searchClients()">
            </div>

            <div id="addClientForm" class="admin-section" style="display: none;">
                <h4>Adicionar Novo Cliente</h4>
                <form onsubmit="addClient(event)" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <input type="text" id="newClientName" placeholder="Nome completo" required>
                    <input type="date" id="newClientBirthdate" placeholder="Data de nascimento" required>
                    <input type="tel" id="newClientWhatsapp" placeholder="WhatsApp (49) 99999-9999" required>
                    <input type="email" id="newClientEmail" placeholder="E-mail (opcional)">
                    <button type="submit" class="btn btn-admin">Adicionar Cliente</button>
                    <button type="button" class="btn" onclick="hideAddClientForm()" style="background: #6c757d;">Cancelar</button>
                </form>
            </div>

            <div class="admin-section">
                <div class="clients-header">
                    <h4>Clientes Cadastrados (<span id="clientCount">0</span>)</h4>
                </div>
                <div id="clientsList"></div>
            </div>
        </div>

        <!-- Appointments Tab -->
        <div id="appointmentsTab" class="tab-content">
            <div class="section-header">
                <h3>📅 Gerenciar Agendamentos</h3>
                <div class="filter-controls">
                    <select id="dateFilter" onchange="filterAppointments()">
                        <option value="all">Todas as datas</option>
                        <option value="today">Hoje</option>
                        <option value="week">Esta semana</option>
                        <option value="month">Este mês</option>
                    </select>
                    <select id="statusFilter" onchange="filterAppointments()">
                        <option value="all">Todos os status</option>
                        <option value="confirmed">Confirmados</option>
                        <option value="pending">Pendentes</option>
                        <option value="cancelled">Cancelados</option>
                    </select>
                </div>
            </div>

            <div class="admin-section">
                <div class="appointments-header">
                    <h4>Lista de Agendamentos (<span id="appointmentCount">0</span>)</h4>
                </div>
                <div id="appointmentsList"></div>
            </div>
        </div>

        <!-- Reports Tab -->
        <div id="reportsTab" class="tab-content">
            <div class="section-header">
                <h3>📊 Relatórios e Estatísticas</h3>
                <button class="btn btn-admin" onclick="exportData()">📄 Exportar CSV</button>
            </div>

            <div class="reports-grid">
                <div class="report-card">
                    <h4>📈 Agendamentos por Mês</h4>
                    <canvas id="monthlyChart" width="300" height="200"></canvas>
                </div>
                <div class="report-card">
                    <h4>💅 Serviços Mais Populares</h4>
                    <div id="popularServices"></div>
                </div>
                <div class="report-card">
                    <h4>💰 Receita por Período</h4>
                    <div id="revenueReport"></div>
                </div>
                <div class="report-card">
                    <h4>👥 Clientes Ativos</h4>
                    <div id="activeClients"></div>
                </div>
            </div>
        </div>

        <!-- Reminders Tab -->
        <div id="remindersTab" class="tab-content">
            <div class="section-header">
                <h3>🔔 Gerenciar Lembretes</h3>
                <button class="btn btn-admin" onclick="checkTodayReminders()">📱 Verificar Lembretes de Hoje</button>
            </div>

            <div class="admin-section">
                <div class="stats-grid" style="margin-bottom: 30px;">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #28a745;">
                            <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm3.5 6L11 13.5l-1.5-1.5L8 13.5 11 16.5l6-6-1.5-1.5z"/></svg>
                        </div>
                        <div class="stat-info">
                            <h3 id="pendingReminders">0</h3>
                            <p>Lembretes Pendentes</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #17a2b8;">
                            <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>
                        </div>
                        <div class="stat-info">
                            <h3 id="todayReminders">0</h3>
                            <p>Para Hoje</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #6f42c1;">
                            <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>
                        </div>
                        <div class="stat-info">
                            <h3 id="sentReminders">0</h3>
                            <p>Enviados</p>
                        </div>
                    </div>
                </div>

                <div class="section-header">
                    <h4>📋 Lista de Lembretes</h4>
                    <div class="filter-controls">
                        <select id="reminderStatusFilter" onchange="filterReminders()">
                            <option value="all">Todos os status</option>
                            <option value="pending">Pendentes</option>
                            <option value="today">Para hoje</option>
                            <option value="sent">Enviados</option>
                        </select>
                    </div>
                </div>
                
                <div id="remindersList"></div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settingsTab" class="tab-content">
            <div class="section-header">
                <h3>⚙️ Configurações do Sistema</h3>
            </div>

            <div class="settings-grid">
                <div class="setting-card">
                    <h4>🎨 Personalização Visual</h4>
                    <div class="form-group">
                        <label for="logoUpload" class="form-label">Logo do Studio</label>
                        <input type="file" id="logoUpload" accept="image/*" onchange="uploadLogo(event)">
                        <small style="color: #636e72;">Formatos aceitos: JPG, PNG, GIF (máx. 2MB)</small>
                    </div>
                    <div class="form-group">
                        <label for="backgroundUpload" class="form-label">Imagem de Fundo Principal</label>
                        <input type="file" id="backgroundUpload" accept="image/*" onchange="uploadBackground(event)">
                        <small style="color: #636e72;">Recomendado: 1920x1080px ou superior</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Galeria de Fundos Disponíveis</label>
                        <div id="backgroundGallery" class="background-gallery">
                            <!-- Backgrounds serão carregados aqui -->
                        </div>
                        <button class="btn btn-admin" onclick="loadGitHubBackgrounds()" style="margin-top: 10px;">
                            🔄 Carregar Fundos do GitHub
                        </button>
                    </div>
                    <div class="form-group">
                        <label for="studioName" class="form-label">Nome do Studio</label>
                        <input type="text" id="studioName" class="form-input" value="ALINE MENEZES BEAUTY">
                        <button class="btn btn-admin" onclick="updateStudioName()">Atualizar</button>
                    </div>
                </div>

                <div class="setting-card">
                    <h4>🖼️ Imagens dos Serviços</h4>
                    <div class="form-group">
                        <label class="form-label">Upload de Imagens para Serviços</label>
                        <input type="file" id="serviceImageUpload" accept="image/*" multiple onchange="uploadServiceImages(event)">
                        <small style="color: #636e72;">Selecione múltiplas imagens para os serviços</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Galeria de Imagens dos Serviços</label>
                        <div id="serviceImageGallery" class="service-image-gallery">
                            <!-- Imagens dos serviços serão carregadas aqui -->
                        </div>
                        <button class="btn btn-admin" onclick="loadGitHubServiceImages()" style="margin-top: 10px;">
                            🔄 Carregar Imagens do GitHub
                        </button>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Configuração do Repositório GitHub</label>
                        <input type="text" id="githubRepo" class="form-input" placeholder="usuario/repositorio" value="">
                        <input type="text" id="githubToken" class="form-input" placeholder="Token de acesso (opcional)" value="" style="margin-top: 10px;">
                        <small style="color: #636e72;">Ex: alinemenezes/studio-images</small>
                        <button class="btn btn-admin" onclick="saveGitHubConfig()" style="margin-top: 10px;">Salvar Configuração</button>
                    </div>
                </div>

                <div class="setting-card">
                    <h4>💾 Backup e Restauração</h4>
                    <button class="btn btn-admin" onclick="backupData()">📥 Fazer Backup</button>
                    <div class="form-group">
                        <label for="restoreFile" class="form-label">Restaurar Backup</label>
                        <input type="file" id="restoreFile" accept=".json" onchange="restoreData(event)">
                    </div>
                    <button class="btn" onclick="clearAllData()" style="background: #dc3545;">🗑️ Limpar Todos os Dados</button>
                </div>

                <div class="setting-card">
                    <h4>🔧 Configurações Gerais</h4>
                    <div class="form-group">
                        <label class="form-label">Horários de Funcionamento</label>
                        <input type="time" id="openTime" value="09:00" class="form-input">
                        <input type="time" id="closeTime" value="18:00" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Intervalo entre Agendamentos (minutos)</label>
                        <input type="number" id="appointmentInterval" value="60" class="form-input">
                    </div>
                    <button class="btn btn-admin" onclick="saveSettings()">Salvar Configurações</button>
                </div>

                <div class="setting-card">
                    <h4>📱 Informações de Contato</h4>
                    <div class="form-group">
                        <label for="whatsappNumber" class="form-label">WhatsApp</label>
                        <input type="tel" id="whatsappNumber" class="form-input" value="5549998200000">
                    </div>
                    <div class="form-group">
                        <label for="instagramHandle" class="form-label">Instagram</label>
                        <input type="text" id="instagramHandle" class="form-input" value="alinemenezes.beauty">
                    </div>
                    <div class="form-group">
                        <label for="studioAddress" class="form-label">Endereço</label>
                        <textarea id="studioAddress" class="form-input" rows="3">Rua Manoel de Campos Salles, 461 - Sala 01
Bairro São Cristóvão
Chapecó - SC, CEP 89804-092</textarea>
                    </div>
                    <button class="btn btn-admin" onclick="saveContactInfo()">Salvar Contatos</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let selectedDate = null;
        let selectedTime = null;
        let selectedService = null;
        let clients = JSON.parse(localStorage.getItem('clients') || '[]');
        let appointments = JSON.parse(localStorage.getItem('appointments') || '[]');

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function backToHome() {
            document.getElementById('landingPage').style.display = 'flex';
            document.getElementById('clientPanel').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'none';
            currentUser = null;
            selectedDate = null;
            selectedTime = null;
            selectedService = null;
        }

        // Show/Hide forms
        function showRegisterForm() {
            document.getElementById('clientLoginForm').style.display = 'none';
            document.getElementById('clientRegisterForm').style.display = 'block';
            document.getElementById('clientMsg').style.display = 'none';
        }

        function showLoginForm() {
            document.getElementById('clientRegisterForm').style.display = 'none';
            document.getElementById('clientLoginForm').style.display = 'block';
            document.getElementById('clientMsg').style.display = 'none';
        }

        // Client registration
        function registerClient(event) {
            event.preventDefault();
            const name = document.getElementById('registerName').value.trim();
            const birthdate = document.getElementById('registerBirthdate').value;
            const whatsapp = document.getElementById('registerWhatsapp').value.trim();
            
            // Check if client already exists
            const existingClient = clients.find(c => 
                c.name.toLowerCase() === name.toLowerCase() || c.whatsapp === whatsapp
            );
            
            if (existingClient) {
                showMessage('clientMsg', 'Cliente já cadastrado com este nome ou WhatsApp!', 'error');
                return;
            }
            
            // Create new client
            const newClient = {
                id: Date.now(),
                name: name,
                birthdate: birthdate,
                whatsapp: whatsapp,
                created: new Date().toISOString()
            };
            
            clients.push(newClient);
            localStorage.setItem('clients', JSON.stringify(clients));
            
            // Auto login after registration
            currentUser = newClient;
            closeModal('clientModal');
            showClientPanel();
            
            showMessage('bookingSuccess', `Bem-vindo(a), ${name}! Cadastro realizado com sucesso!`, 'success');
        }

        // Client login
        function loginClient(event) {
            event.preventDefault();
            const name = document.getElementById('loginName').value.trim();
            const whatsapp = document.getElementById('loginWhatsapp').value.trim();
            
            const client = clients.find(c => 
                c.name.toLowerCase() === name.toLowerCase() && c.whatsapp === whatsapp
            );
            
            if (client) {
                currentUser = client;
                closeModal('clientModal');
                showClientPanel();
            } else {
                showMessage('clientMsg', 'Nome ou WhatsApp incorretos! Verifique os dados ou faça seu cadastro.', 'error');
            }
        }



        // Admin login
        function adminLogin(event) {
            event.preventDefault();
            const user = document.getElementById('adminUser').value;
            const pass = document.getElementById('adminPassword').value;
            
            if (user === 'aline' && pass === 'aline2924') {
                currentUser = {name: 'Aline', role: 'admin'};
                closeModal('adminModal');
                showAdminPanel();
            } else {
                showMessage('adminMsg', 'Credenciais incorretas!');
            }
        }



        // Show panels
        function showClientPanel() {
            document.getElementById('landingPage').style.display = 'none';
            document.getElementById('clientPanel').style.display = 'block';
            generateCalendar();
            generateTimeSlots();
        }

        function showAdminPanel() {
            document.getElementById('landingPage').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'block';
            loadClients();
            loadAppointments();
            updateStats();
            loadSavedConfigurations();
        }

        // Calendar
        function generateCalendar() {
            const calendar = document.getElementById('calendar');
            calendar.innerHTML = '';
            
            const today = new Date();
            const year = today.getFullYear();
            const month = today.getMonth();
            
            // Days of week
            ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'].forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.textContent = day;
                dayHeader.style.fontWeight = 'bold';
                dayHeader.style.textAlign = 'center';
                calendar.appendChild(dayHeader);
            });
            
            // First day of month
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            // Empty cells
            for (let i = 0; i < firstDay; i++) {
                calendar.appendChild(document.createElement('div'));
            }
            
            // Days
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                
                const dayDate = new Date(year, month, day);
                if (dayDate >= today) {
                    dayElement.onclick = () => selectDate(dayDate, dayElement);
                } else {
                    dayElement.classList.add('disabled');
                }
                
                calendar.appendChild(dayElement);
            }
        }

        function selectDate(date, element) {
            document.querySelectorAll('.calendar-day.selected').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            selectedDate = date.toISOString().split('T')[0];
            updateSelectionSummary();
            updateConfirmButton();
        }

        // Time slots
        function generateTimeSlots() {
            const timeSlots = document.getElementById('timeSlots');
            timeSlots.innerHTML = '';
            
            const times = ['09:00', '10:00', '11:00', '14:00', '15:00', '16:00', '17:00', '18:00'];
            
            times.forEach(time => {
                const slot = document.createElement('div');
                slot.className = 'time-slot';
                slot.textContent = time;
                slot.onclick = () => selectTime(time, slot);
                timeSlots.appendChild(slot);
            });
        }

        function selectTime(time, element) {
            document.querySelectorAll('.time-slot.selected').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            selectedTime = time;
            updateSelectionSummary();
            updateConfirmButton();
        }

        // Service selection from dropdown
        function selectServiceFromDropdown(selectElement) {
            const selectedOption = selectElement.options[selectElement.selectedIndex];
            
            if (selectedOption.value === '') {
                selectedService = null;
                document.getElementById('serviceDetails').style.display = 'none';
            } else {
                const price = parseFloat(selectedOption.dataset.price);
                const duration = parseInt(selectedOption.dataset.duration);
                
                selectedService = {
                    id: selectedOption.value.toLowerCase().replace(/\s+/g, '_'),
                    name: selectedOption.value,
                    price: `R$ ${price.toFixed(2).replace('.', ',')}`
                };
                
                // Update service details display
                document.getElementById('selectedServiceName').textContent = selectedOption.value;
                document.getElementById('selectedServicePrice').textContent = `R$ ${price.toFixed(2).replace('.', ',')}`;
                document.getElementById('selectedServiceDuration').textContent = `⏱️ ${duration} min`;
                document.getElementById('serviceDetails').style.display = 'block';
            }
            
            updateSelectionSummary();
            updateConfirmButton();
        }

        function updateConfirmButton() {
            const btn = document.getElementById('confirmBtn');
            btn.disabled = !(selectedDate && selectedTime && selectedService);
        }

        function updateSelectionSummary() {
            const summary = document.getElementById('selectionSummary');
            
            if (selectedService || selectedDate || selectedTime) {
                summary.style.display = 'block';
                
                document.getElementById('summaryService').textContent = selectedService ? selectedService.name : '-';
                document.getElementById('summaryPrice').textContent = selectedService ? selectedService.price : '-';
                document.getElementById('summaryDate').textContent = selectedDate ? new Date(selectedDate).toLocaleDateString('pt-BR') : '-';
                document.getElementById('summaryTime').textContent = selectedTime || '-';
            } else {
                summary.style.display = 'none';
            }
        }

        // Booking
        function confirmBooking() {
            if (!selectedDate || !selectedTime || !selectedService || !currentUser) return;
            
            const appointment = {
                id: Date.now(),
                clientId: currentUser.id,
                clientName: currentUser.name,
                date: selectedDate,
                time: selectedTime,
                service: selectedService,
                created: new Date().toISOString()
            };
            
            appointments.push(appointment);
            localStorage.setItem('appointments', JSON.stringify(appointments));
            
            // Enviar mensagem de confirmação imediatamente
            sendConfirmationMessage(appointment, currentUser);
            
            // Agendar lembrete para o dia anterior
            scheduleReminderMessage(appointment, currentUser);
            
            showMessage('bookingSuccess', 'Agendamento realizado com sucesso! Mensagem de confirmação enviada para seu WhatsApp.', 'success');
            
            // Reset
            selectedDate = null;
            selectedTime = null;
            selectedService = null;
            document.querySelectorAll('.selected').forEach(el => el.classList.remove('selected'));
            updateConfirmButton();
            updateSelectionSummary();
        }

        // Função para enviar mensagem de confirmação
        function sendConfirmationMessage(appointment, client) {
            const appointmentDate = new Date(appointment.date).toLocaleDateString('pt-BR');
            const serviceName = appointment.service.name;
            const servicePrice = appointment.service.price;
            const appointmentTime = appointment.time;
            
            const message = `Olá ${client.name}! 😊

✅ *AGENDAMENTO CONFIRMADO*

📅 *Data:* ${appointmentDate}
🕐 *Horário:* ${appointmentTime}
💅 *Serviço:* ${serviceName}
💰 *Valor:* ${servicePrice}

Já recebemos sua solicitação de agendamento! Um dia antes iremos lhe enviar informações importantes sobre o serviço.

📍 *Endereço:*
Rua Manoel de Campos Salles, 461 - Sala 01
Bairro São Cristóvão
Chapecó - SC

Qualquer dúvida, estou à disposição! 💕

*Aline Menezes Beauty*`;

            const cleanPhone = client.whatsapp.replace(/\D/g, '');
            const whatsappUrl = `https://wa.me/55${cleanPhone}?text=${encodeURIComponent(message)}`;
            
            // Abrir WhatsApp em nova aba
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
        }

        // Configurações do sistema
        const CONFIG = {
            googleMapsLink: 'https://www.google.com/maps/place/R.+Manoel+Ferraz+de+Campos+Sáles,+461+-+São+Cristóvão,+Chapecó+-+SC,+89804-092',
            defaultMessage: `Olá [nome]! 🌸
Passando pra lembrar do seu horário amanhã às [hora].
Procedimento: [servico]💕
📍 Como chegar: [link]
Caso necessite reagendar ou cancelar, por favor avise com 24h de antecedência!!! Qualquer dúvida, pode me chamar por aqui!!!!`
        };

        // Função para agendar lembrete do dia anterior
        function scheduleReminderMessage(appointment, client) {
            const appointmentDate = new Date(appointment.date);
            const reminderDate = new Date(appointmentDate);
            reminderDate.setDate(reminderDate.getDate() - 1);
            
            // Usar a mensagem configurada
            let reminderMessage = CONFIG.defaultMessage
                .replace('[nome]', client.name)
                .replace('[hora]', appointment.time)
                .replace('[servico]', appointment.service.name)
                .replace('[link]', CONFIG.googleMapsLink);

            // Salvar lembrete para ser enviado
            const reminder = {
                id: Date.now() + Math.random(),
                appointmentId: appointment.id,
                clientId: client.id,
                clientName: client.name,
                clientPhone: client.whatsapp,
                message: reminderMessage,
                sendDate: reminderDate.toISOString().split('T')[0],
                sent: false,
                created: new Date().toISOString()
            };
            
            let reminders = JSON.parse(localStorage.getItem('reminders') || '[]');
            reminders.push(reminder);
            localStorage.setItem('reminders', JSON.stringify(reminders));
            
            console.log('Lembrete agendado para:', reminderDate.toLocaleDateString('pt-BR'));
        }

        // Admin Tab Management
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + 'Tab').classList.add('active');
            event.target.classList.add('active');
            
            // Load tab-specific data
            if (tabName === 'dashboard') {
                updateStats();
                loadUpcomingAppointments();
            } else if (tabName === 'clients') {
                loadClients();
            } else if (tabName === 'appointments') {
                loadAppointments();
            } else if (tabName === 'reports') {
                generateReports();
            } else if (tabName === 'reminders') {
                loadReminders();
                updateReminderStats();
            }
        }

        // Reminder Management Functions
        function loadReminders() {
            const reminders = JSON.parse(localStorage.getItem('reminders') || '[]');
            displayReminders(reminders);
        }

        function updateReminderStats() {
            const reminders = JSON.parse(localStorage.getItem('reminders') || '[]');
            const today = new Date().toISOString().split('T')[0];
            
            const pending = reminders.filter(r => !r.sent && r.sendDate >= today).length;
            const todayReminders = reminders.filter(r => r.sendDate === today && !r.sent).length;
            const sent = reminders.filter(r => r.sent).length;
            
            document.getElementById('pendingReminders').textContent = pending;
            document.getElementById('todayReminders').textContent = todayReminders;
            document.getElementById('sentReminders').textContent = sent;
        }

        function filterReminders() {
            const filter = document.getElementById('reminderStatusFilter').value;
            const reminders = JSON.parse(localStorage.getItem('reminders') || '[]');
            const today = new Date().toISOString().split('T')[0];
            
            let filteredReminders = [...reminders];
            
            if (filter === 'pending') {
                filteredReminders = reminders.filter(r => !r.sent && r.sendDate >= today);
            } else if (filter === 'today') {
                filteredReminders = reminders.filter(r => r.sendDate === today);
            } else if (filter === 'sent') {
                filteredReminders = reminders.filter(r => r.sent);
            }
            
            displayReminders(filteredReminders);
        }

        function displayReminders(reminderList) {
            const list = document.getElementById('remindersList');
            list.innerHTML = '';
            
            if (reminderList.length === 0) {
                list.innerHTML = '<p style="color: #636e72; text-align: center; padding: 20px;">Nenhum lembrete encontrado</p>';
                return;
            }
            
            reminderList.sort((a, b) => new Date(a.sendDate) - new Date(b.sendDate));
            
            reminderList.forEach(reminder => {
                const item = document.createElement('div');
                item.className = 'client-item';
                const status = reminder.sent ? 'Enviado' : 'Pendente';
                const statusColor = reminder.sent ? '#28a745' : '#ffc107';
                const sendDate = new Date(reminder.sendDate).toLocaleDateString('pt-BR');
                
                item.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start;">
                        <div>
                            <strong style="font-size: 16px; color: #2d3436;">${reminder.clientName}</strong>
                            <span style="background: ${statusColor}; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px; margin-left: 10px;">${status}</span><br>
                            <span style="color: #636e72;">📅 Enviar em: ${sendDate}</span><br>
                            <span style="color: #636e72;">📱 ${reminder.clientPhone}</span><br>
                            <small style="color: #95a5a6;">Criado: ${new Date(reminder.created).toLocaleDateString('pt-BR')}</small>
                        </div>
                        <div class="client-actions">
                            ${!reminder.sent ? `
                                <button class="btn-whatsapp" onclick="sendReminderNow(${reminder.id})">Enviar Agora</button>
                                <button class="btn-edit" onclick="editReminder(${reminder.id})">Editar</button>
                            ` : ''}
                            <button class="btn-delete" onclick="deleteReminder(${reminder.id})">Excluir</button>
                        </div>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        function checkTodayReminders() {
            const reminders = JSON.parse(localStorage.getItem('reminders') || '[]');
            const today = new Date().toISOString().split('T')[0];
            
            const todayReminders = reminders.filter(r => r.sendDate === today && !r.sent);
            
            if (todayReminders.length === 0) {
                showMessage('adminSuccess', 'Não há lembretes para enviar hoje!', 'success');
                return;
            }
            
            let message = `📱 Lembretes para hoje (${todayReminders.length}):\n\n`;
            todayReminders.forEach(reminder => {
                message += `• ${reminder.clientName} - ${reminder.clientPhone}\n`;
            });
            
            if (confirm(message + '\nDeseja abrir o WhatsApp para enviar os lembretes?')) {
                todayReminders.forEach(reminder => {
                    sendReminderNow(reminder.id);
                });
            }
        }

        function sendReminderNow(reminderId) {
            const reminders = JSON.parse(localStorage.getItem('reminders') || '[]');
            const reminder = reminders.find(r => r.id === reminderId);
            
            if (!reminder) return;
            
            const cleanPhone = reminder.clientPhone.replace(/\D/g, '');
            const whatsappUrl = `https://wa.me/55${cleanPhone}?text=${encodeURIComponent(reminder.message)}`;
            
            // Marcar como enviado
            reminder.sent = true;
            reminder.sentDate = new Date().toISOString();
            
            localStorage.setItem('reminders', JSON.stringify(reminders));
            
            // Abrir WhatsApp
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
            
            // Atualizar interface
            loadReminders();
            updateReminderStats();
            showMessage('adminSuccess', 'Lembrete enviado!', 'success');
        }

        function editReminder(reminderId) {
            const reminders = JSON.parse(localStorage.getItem('reminders') || '[]');
            const reminder = reminders.find(r => r.id === reminderId);
            
            if (!reminder) return;
            
            const newDate = prompt('Nova data para envio (YYYY-MM-DD):', reminder.sendDate);
            if (newDate === null) return;
            
            reminder.sendDate = newDate;
            localStorage.setItem('reminders', JSON.stringify(reminders));
            
            loadReminders();
            updateReminderStats();
            showMessage('adminSuccess', 'Lembrete atualizado!', 'success');
        }

        function deleteReminder(reminderId) {
            const reminders = JSON.parse(localStorage.getItem('reminders') || '[]');
            const reminder = reminders.find(r => r.id === reminderId);
            
            if (!reminder) return;
            
            if (confirm(`Excluir lembrete para "${reminder.clientName}"?`)) {
                const updatedReminders = reminders.filter(r => r.id !== reminderId);
                localStorage.setItem('reminders', JSON.stringify(updatedReminders));
                
                loadReminders();
                updateReminderStats();
                showMessage('adminSuccess', 'Lembrete excluído!', 'success');
            }
        }

        // Client Management Functions
        function showAddClientForm() {
            document.getElementById('addClientForm').style.display = 'block';
        }

        function hideAddClientForm() {
            document.getElementById('addClientForm').style.display = 'none';
            // Clear form
            document.getElementById('newClientName').value = '';
            document.getElementById('newClientBirthdate').value = '';
            document.getElementById('newClientWhatsapp').value = '';
            document.getElementById('newClientEmail').value = '';
        }

        function addClient(event) {
            event.preventDefault();
            
            const name = document.getElementById('newClientName').value.trim();
            const birthdate = document.getElementById('newClientBirthdate').value;
            const whatsapp = document.getElementById('newClientWhatsapp').value.trim();
            const email = document.getElementById('newClientEmail').value.trim();
            
            // Check if client already exists
            const existingClient = clients.find(c => 
                c.name.toLowerCase() === name.toLowerCase() || c.whatsapp === whatsapp
            );
            
            if (existingClient) {
                showMessage('adminSuccess', 'Cliente já cadastrado com este nome ou WhatsApp!', 'error');
                return;
            }
            
            const newClient = {
                id: Date.now(),
                name: name,
                birthdate: birthdate,
                whatsapp: whatsapp,
                email: email,
                created: new Date().toISOString()
            };
            
            clients.push(newClient);
            localStorage.setItem('clients', JSON.stringify(clients));
            
            hideAddClientForm();
            loadClients();
            showMessage('adminSuccess', 'Cliente adicionado com sucesso!', 'success');
        }

        function searchClients() {
            const search = document.getElementById('clientSearch').value.toLowerCase();
            const filteredClients = clients.filter(client => 
                client.name.toLowerCase().includes(search) ||
                client.whatsapp.includes(search) ||
                (client.email && client.email.toLowerCase().includes(search))
            );
            displayClients(filteredClients);
        }

        function loadClients() {
            displayClients(clients);
        }

        function displayClients(clientList) {
            const list = document.getElementById('clientsList');
            const count = document.getElementById('clientCount');
            
            list.innerHTML = '';
            count.textContent = clientList.length;
            
            clientList.forEach(client => {
                const birthdate = client.birthdate ? new Date(client.birthdate).toLocaleDateString('pt-BR') : 'Não informado';
                const age = client.birthdate ? calculateAge(client.birthdate) : '';
                
                const item = document.createElement('div');
                item.className = 'client-item';
                item.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start;">
                        <div>
                            <strong style="font-size: 16px; color: #2d3436;">${client.name}</strong><br>
                            <span style="color: #636e72;">🎂 ${birthdate}${age ? ` (${age} anos)` : ''}</span><br>
                            <span style="color: #636e72;">📱 ${client.whatsapp}</span><br>
                            ${client.email ? `<span style="color: #636e72;">📧 ${client.email}</span><br>` : ''}
                            <small style="color: #95a5a6;">Cadastrado: ${new Date(client.created || Date.now()).toLocaleDateString('pt-BR')}</small>
                        </div>
                        <div class="client-actions">
                            <button class="btn-whatsapp" onclick="openWhatsApp('${client.whatsapp}')">WhatsApp</button>
                            <button class="btn-edit" onclick="editClient(${client.id})">Editar</button>
                            <button class="btn-delete" onclick="deleteClient(${client.id})">Excluir</button>
                        </div>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        function calculateAge(birthdate) {
            const today = new Date();
            const birth = new Date(birthdate);
            let age = today.getFullYear() - birth.getFullYear();
            const monthDiff = today.getMonth() - birth.getMonth();
            
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {
                age--;
            }
            
            return age;
        }

        function editClient(id) {
            const client = clients.find(c => c.id === id);
            if (!client) return;
            
            const newName = prompt('Nome:', client.name);
            if (newName === null) return;
            
            const newBirthdate = prompt('Data de nascimento (YYYY-MM-DD):', client.birthdate || '');
            if (newBirthdate === null) return;
            
            const newWhatsapp = prompt('WhatsApp:', client.whatsapp);
            if (newWhatsapp === null) return;
            
            const newEmail = prompt('E-mail:', client.email || '');
            if (newEmail === null) return;
            
            client.name = newName.trim();
            client.birthdate = newBirthdate;
            client.whatsapp = newWhatsapp.trim();
            client.email = newEmail.trim();
            
            localStorage.setItem('clients', JSON.stringify(clients));
            loadClients();
            showMessage('adminSuccess', 'Cliente atualizado!', 'success');
        }

        function deleteClient(id) {
            const client = clients.find(c => c.id === id);
            if (!client) return;
            
            if (confirm(`Excluir cliente "${client.name}"?`)) {
                clients = clients.filter(c => c.id !== id);
                localStorage.setItem('clients', JSON.stringify(clients));
                loadClients();
                showMessage('adminSuccess', 'Cliente excluído!', 'success');
            }
        }

        function openWhatsApp(phone) {
            const cleanPhone = phone.replace(/\D/g, '');
            const url = `https://wa.me/55${cleanPhone}`;
            window.open(url, '_blank', 'noopener,noreferrer');
        }

        // Appointment Management Functions
        function filterAppointments() {
            const dateFilter = document.getElementById('dateFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            
            let filteredAppointments = [...appointments];
            
            // Date filter
            const today = new Date();
            if (dateFilter === 'today') {
                const todayStr = today.toISOString().split('T')[0];
                filteredAppointments = filteredAppointments.filter(apt => apt.date === todayStr);
            } else if (dateFilter === 'week') {
                const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);
                filteredAppointments = filteredAppointments.filter(apt => 
                    new Date(apt.date) >= weekAgo && new Date(apt.date) <= today
                );
            } else if (dateFilter === 'month') {
                filteredAppointments = filteredAppointments.filter(apt => 
                    new Date(apt.date).getMonth() === today.getMonth() &&
                    new Date(apt.date).getFullYear() === today.getFullYear()
                );
            }
            
            // Status filter (for future implementation)
            if (statusFilter !== 'all') {
                filteredAppointments = filteredAppointments.filter(apt => 
                    (apt.status || 'confirmed') === statusFilter
                );
            }
            
            displayAppointments(filteredAppointments);
        }

        function loadAppointments() {
            displayAppointments(appointments);
        }

        function displayAppointments(appointmentList) {
            const list = document.getElementById('appointmentsList');
            const count = document.getElementById('appointmentCount');
            
            list.innerHTML = '';
            count.textContent = appointmentList.length;
            
            appointmentList.sort((a, b) => new Date(a.date + ' ' + a.time) - new Date(b.date + ' ' + b.time));
            
            appointmentList.forEach(apt => {
                const item = document.createElement('div');
                item.className = 'client-item';
                const status = apt.status || 'confirmed';
                const statusColor = status === 'confirmed' ? '#28a745' : status === 'pending' ? '#ffc107' : '#dc3545';
                
                item.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start;">
                        <div>
                            <strong style="font-size: 16px; color: #2d3436;">${apt.clientName}</strong>
                            <span style="background: ${statusColor}; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px; margin-left: 10px;">${status}</span><br>
                            <span style="color: #636e72;">📅 ${new Date(apt.date).toLocaleDateString('pt-BR')}</span><br>
                            <span style="color: #636e72;">🕐 ${apt.time}</span><br>
                            <span style="color: #636e72;">💅 ${apt.service.name}</span><br>
                            <span style="color: #28a745; font-weight: bold;">${apt.service.price}</span><br>
                            <small style="color: #95a5a6;">Agendado: ${new Date(apt.created).toLocaleDateString('pt-BR')}</small>
                        </div>
                        <div class="client-actions">
                            <button class="btn-whatsapp" onclick="contactClient(${apt.clientId})">Contatar</button>
                            <button class="btn-edit" onclick="editAppointment(${apt.id})">Editar</button>
                            <button class="btn-delete" onclick="cancelAppointment(${apt.id})">Cancelar</button>
                        </div>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        function contactClient(clientId) {
            const client = clients.find(c => c.id === clientId);
            if (client) {
                openWhatsApp(client.whatsapp);
            }
        }

        function editAppointment(id) {
            const apt = appointments.find(a => a.id === id);
            if (!apt) return;
            
            const newDate = prompt('Nova data (YYYY-MM-DD):', apt.date);
            if (newDate === null) return;
            
            const newTime = prompt('Novo horário (HH:MM):', apt.time);
            if (newTime === null) return;
            
            apt.date = newDate;
            apt.time = newTime;
            
            localStorage.setItem('appointments', JSON.stringify(appointments));
            loadAppointments();
            showMessage('adminSuccess', 'Agendamento atualizado!', 'success');
        }

        function cancelAppointment(id) {
            const apt = appointments.find(a => a.id === id);
            if (!apt) return;
            
            if (confirm(`Cancelar agendamento de "${apt.clientName}"?`)) {
                appointments = appointments.filter(a => a.id !== id);
                localStorage.setItem('appointments', JSON.stringify(appointments));
                loadAppointments();
                updateStats();
                showMessage('adminSuccess', 'Agendamento cancelado!', 'success');
            }
        }

        // Dashboard Functions
        function updateStats() {
            document.getElementById('totalClients').textContent = clients.length;
            
            const today = new Date().toISOString().split('T')[0];
            const todayAppts = appointments.filter(a => a.date === today);
            document.getElementById('todayAppointments').textContent = todayAppts.length;
            
            const thisMonth = new Date().getMonth();
            const monthAppts = appointments.filter(a => new Date(a.date).getMonth() === thisMonth);
            document.getElementById('monthAppointments').textContent = monthAppts.length;
            
            // Calculate monthly revenue
            const monthRevenue = monthAppts.reduce((total, apt) => {
                const price = parseFloat(apt.service.price.replace('R$', '').replace(',', '.').trim());
                return total + (isNaN(price) ? 0 : price);
            }, 0);
            document.getElementById('monthRevenue').textContent = `R$ ${monthRevenue.toFixed(2).replace('.', ',')}`;
        }

        function loadUpcomingAppointments() {
            const upcoming = document.getElementById('upcomingAppointments');
            const today = new Date();
            const nextWeek = new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000);
            
            const upcomingAppts = appointments
                .filter(apt => {
                    const aptDate = new Date(apt.date);
                    return aptDate >= today && aptDate <= nextWeek;
                })
                .sort((a, b) => new Date(a.date + ' ' + a.time) - new Date(b.date + ' ' + b.time))
                .slice(0, 5);
            
            upcoming.innerHTML = '';
            
            if (upcomingAppts.length === 0) {
                upcoming.innerHTML = '<p style="color: #636e72; text-align: center; padding: 20px;">Nenhum agendamento próximo</p>';
                return;
            }
            
            upcomingAppts.forEach(apt => {
                const item = document.createElement('div');
                item.className = 'client-item';
                item.style.margin = '10px 0';
                item.style.color = '#2d3436';
                item.innerHTML = `
                    <strong style="color: #2d3436;">${apt.clientName}</strong><br>
                    <span style="color: #2d3436;">📅 ${new Date(apt.date).toLocaleDateString('pt-BR')} às ${apt.time}</span><br>
                    <span style="color: #2d3436;">💅 ${apt.service.name} - ${apt.service.price}</span>
                `;
                upcoming.appendChild(item);
            });
        }

        // Reports Functions
        function generateReports() {
            generatePopularServices();
            generateRevenueReport();
            generateActiveClients();
        }

        function generatePopularServices() {
            const serviceCount = {};
            appointments.forEach(apt => {
                const serviceName = apt.service.name;
                serviceCount[serviceName] = (serviceCount[serviceName] || 0) + 1;
            });
            
            const sorted = Object.entries(serviceCount)
                .sort(([,a], [,b]) => b - a)
                .slice(0, 5);
            
            const container = document.getElementById('popularServices');
            container.innerHTML = '';
            
            sorted.forEach(([service, count]) => {
                const item = document.createElement('div');
                item.style.cssText = 'display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee;';
                item.innerHTML = `
                    <span>${service}</span>
                    <strong>${count} agendamentos</strong>
                `;
                container.appendChild(item);
            });
        }

        function generateRevenueReport() {
            const monthlyRevenue = {};
            appointments.forEach(apt => {
                const month = new Date(apt.date).toLocaleDateString('pt-BR', { month: 'long', year: 'numeric' });
                const price = parseFloat(apt.service.price.replace('R$', '').replace(',', '.').trim());
                monthlyRevenue[month] = (monthlyRevenue[month] || 0) + (isNaN(price) ? 0 : price);
            });
            
            const container = document.getElementById('revenueReport');
            container.innerHTML = '';
            
            Object.entries(monthlyRevenue).forEach(([month, revenue]) => {
                const item = document.createElement('div');
                item.style.cssText = 'display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee;';
                item.innerHTML = `
                    <span>${month}</span>
                    <strong>R$ ${revenue.toFixed(2).replace('.', ',')}</strong>
                `;
                container.appendChild(item);
            });
        }

        function generateActiveClients() {
            const clientActivity = {};
            appointments.forEach(apt => {
                clientActivity[apt.clientName] = (clientActivity[apt.clientName] || 0) + 1;
            });
            
            const sorted = Object.entries(clientActivity)
                .sort(([,a], [,b]) => b - a)
                .slice(0, 5);
            
            const container = document.getElementById('activeClients');
            container.innerHTML = '';
            
            sorted.forEach(([client, count]) => {
                const item = document.createElement('div');
                item.style.cssText = 'display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee;';
                item.innerHTML = `
                    <span>${client}</span>
                    <strong>${count} agendamentos</strong>
                `;
                container.appendChild(item);
            });
        }

        // Export and Backup Functions
        function exportData() {
            const data = {
                clients: clients,
                appointments: appointments,
                exported: new Date().toISOString()
            };
            
            const csv = generateCSV(data);
            downloadFile(csv, 'studio-aline-dados.csv', 'text/csv');
        }

        function generateCSV(data) {
            let csv = 'Tipo,Nome,Telefone,Email,Data,Horario,Servico,Preco\n';
            
            data.clients.forEach(client => {
                csv += `Cliente,"${client.name}","${client.phone}","${client.email || ''}","","","",""\n`;
            });
            
            data.appointments.forEach(apt => {
                const client = data.clients.find(c => c.id === apt.clientId);
                csv += `Agendamento,"${apt.clientName}","${client ? client.phone : ''}","${client ? client.email || '' : ''}","${apt.date}","${apt.time}","${apt.service.name}","${apt.service.price}"\n`;
            });
            
            return csv;
        }

        function backupData() {
            const backup = {
                clients: clients,
                appointments: appointments,
                settings: JSON.parse(localStorage.getItem('studioSettings') || '{}'),
                backup_date: new Date().toISOString()
            };
            
            const json = JSON.stringify(backup, null, 2);
            downloadFile(json, `backup-studio-${new Date().toISOString().split('T')[0]}.json`, 'application/json');
        }

        function restoreData(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const backup = JSON.parse(e.target.result);
                    
                    if (confirm('Restaurar backup? Isso substituirá todos os dados atuais.')) {
                        clients = backup.clients || [];
                        appointments = backup.appointments || [];
                        
                        localStorage.setItem('clients', JSON.stringify(clients));
                        localStorage.setItem('appointments', JSON.stringify(appointments));
                        
                        if (backup.settings) {
                            localStorage.setItem('studioSettings', JSON.stringify(backup.settings));
                        }
                        
                        showMessage('adminSuccess', 'Backup restaurado com sucesso!', 'success');
                        updateStats();
                        loadClients();
                        loadAppointments();
                    }
                } catch (error) {
                    showMessage('adminSuccess', 'Erro ao restaurar backup!', 'error');
                }
            };
            reader.readAsText(file);
        }

        function clearAllData() {
            if (confirm('ATENÇÃO: Isso apagará TODOS os dados permanentemente. Continuar?')) {
                if (confirm('Tem certeza absoluta? Esta ação não pode ser desfeita!')) {
                    localStorage.clear();
                    clients = [];
                    appointments = [];
                    showMessage('adminSuccess', 'Todos os dados foram apagados!', 'success');
                    updateStats();
                    loadClients();
                    loadAppointments();
                }
            }
        }

        function downloadFile(content, filename, contentType) {
            const blob = new Blob([content], { type: contentType });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        // Settings Functions
        function updateStudioName() {
            const newName = document.getElementById('studioName').value;
            document.querySelector('.studio-name').textContent = newName;
            saveToSettings('studioName', newName);
            showMessage('adminSuccess', 'Nome do studio atualizado!', 'success');
        }

        function saveSettings() {
            const settings = {
                openTime: document.getElementById('openTime').value,
                closeTime: document.getElementById('closeTime').value,
                appointmentInterval: document.getElementById('appointmentInterval').value
            };
            
            localStorage.setItem('studioSettings', JSON.stringify(settings));
            showMessage('adminSuccess', 'Configurações salvas!', 'success');
        }

        function saveContactInfo() {
            const contacts = {
                whatsapp: document.getElementById('whatsappNumber').value,
                instagram: document.getElementById('instagramHandle').value,
                address: document.getElementById('studioAddress').value
            };
            
            saveToSettings('contacts', contacts);
            showMessage('adminSuccess', 'Informações de contato salvas!', 'success');
        }

        function saveToSettings(key, value) {
            const settings = JSON.parse(localStorage.getItem('studioSettings') || '{}');
            settings[key] = value;
            localStorage.setItem('studioSettings', JSON.stringify(settings));
        }

        function uploadLogo(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                saveToSettings('logo', e.target.result);
                showMessage('adminSuccess', 'Logo atualizado!', 'success');
            };
            reader.readAsDataURL(file);
        }

        function uploadBackground(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                document.body.style.backgroundImage = `url(${e.target.result})`;
                saveToSettings('background', e.target.result);
                showMessage('adminSuccess', 'Fundo atualizado!', 'success');
            };
            reader.readAsDataURL(file);
        }

        function showMessage(elementId, message, type = 'error') {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.style.display = 'block';
            element.className = type;
            
            setTimeout(() => {
                element.style.display = 'none';
            }, 3000);
        }

        // Location functions
        function openLocationModal() {
            openModal('locationModal');
        }

        function openMaps() {
            window.open(CONFIG.googleMapsLink, '_blank', 'noopener,noreferrer');
        }

        function openUber() {
            const address = "Rua Manoel de Campos Salles, 461 - Sala 01, São Cristóvão, Chapecó - SC, 89804-092";
            const url = `https://m.uber.com/ul/?action=setPickup&pickup=my_location&dropoff[formatted_address]=${encodeURIComponent(address)}`;
            window.open(url, '_blank', 'noopener,noreferrer');
        }

        function open99() {
            const address = "Rua Manoel de Campos Salles, 461 - Sala 01, São Cristóvão, Chapecó - SC, 89804-092";
            const url = `https://99app.com/ride?destination=${encodeURIComponent(address)}`;
            window.open(url, '_blank', 'noopener,noreferrer');
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // GitHub Integration Functions
        function saveGitHubConfig() {
            const repo = document.getElementById('githubRepo').value.trim();
            const token = document.getElementById('githubToken').value.trim();
            
            if (!repo) {
                showMessage('adminSuccess', 'Por favor, informe o repositório GitHub!', 'error');
                return;
            }
            
            const config = {
                repo: repo,
                token: token,
                updated: new Date().toISOString()
            };
            
            saveToSettings('githubConfig', config);
            showMessage('adminSuccess', 'Configuração do GitHub salva!', 'success');
        }

        async function loadGitHubBackgrounds() {
            const config = JSON.parse(localStorage.getItem('studioSettings') || '{}').githubConfig;
            
            if (!config || !config.repo) {
                showMessage('adminSuccess', 'Configure primeiro o repositório GitHub!', 'error');
                return;
            }
            
            try {
                showProgress('Carregando fundos do GitHub...');
                
                const headers = {
                    'Accept': 'application/vnd.github.v3+json'
                };
                
                if (config.token) {
                    headers['Authorization'] = `token ${config.token}`;
                }
                
                const response = await fetch(`https://api.github.com/repos/${config.repo}/contents/backgrounds`, {
                    headers: headers
                });
                
                if (!response.ok) {
                    throw new Error(`Erro ${response.status}: ${response.statusText}`);
                }
                
                const files = await response.json();
                const imageFiles = files.filter(file => 
                    file.type === 'file' && 
                    /\.(jpg|jpeg|png|gif|webp)$/i.test(file.name)
                );
                
                displayBackgroundGallery(imageFiles);
                hideProgress();
                showMessage('adminSuccess', `${imageFiles.length} fundos carregados do GitHub!`, 'success');
                
            } catch (error) {
                hideProgress();
                console.error('Erro ao carregar fundos:', error);
                showMessage('adminSuccess', `Erro ao carregar fundos: ${error.message}`, 'error');
            }
        }

        async function loadGitHubServiceImages() {
            const config = JSON.parse(localStorage.getItem('studioSettings') || '{}').githubConfig;
            
            if (!config || !config.repo) {
                showMessage('adminSuccess', 'Configure primeiro o repositório GitHub!', 'error');
                return;
            }
            
            try {
                showProgress('Carregando imagens dos serviços...');
                
                const headers = {
                    'Accept': 'application/vnd.github.v3+json'
                };
                
                if (config.token) {
                    headers['Authorization'] = `token ${config.token}`;
                }
                
                const response = await fetch(`https://api.github.com/repos/${config.repo}/contents/servicos`, {
                    headers: headers
                });
                
                if (!response.ok) {
                    throw new Error(`Erro ${response.status}: ${response.statusText}`);
                }
                
                const files = await response.json();
                const imageFiles = files.filter(file => 
                    file.type === 'file' && 
                    /\.(jpg|jpeg|png|gif|webp)$/i.test(file.name)
                );
                
                displayServiceImageGallery(imageFiles);
                hideProgress();
                showMessage('adminSuccess', `${imageFiles.length} imagens de serviços carregadas!`, 'success');
                
            } catch (error) {
                hideProgress();
                console.error('Erro ao carregar imagens:', error);
                showMessage('adminSuccess', `Erro ao carregar imagens: ${error.message}`, 'error');
            }
        }

        function displayBackgroundGallery(images) {
            const gallery = document.getElementById('backgroundGallery');
            gallery.innerHTML = '';
            
            // Adicionar fundos locais salvos
            const localBackgrounds = JSON.parse(localStorage.getItem('localBackgrounds') || '[]');
            localBackgrounds.forEach((bg, index) => {
                const item = createGalleryItem(bg.data, bg.name, 'local', () => {
                    setBackground(bg.data);
                    selectGalleryItem(item);
                }, () => deleteLocalBackground(index));
                gallery.appendChild(item);
            });
            
            // Adicionar fundos do GitHub
            images.forEach(image => {
                const item = createGalleryItem(image.download_url, image.name, 'github', () => {
                    setBackground(image.download_url);
                    selectGalleryItem(item);
                });
                gallery.appendChild(item);
            });
        }

        function displayServiceImageGallery(images) {
            const gallery = document.getElementById('serviceImageGallery');
            gallery.innerHTML = '';
            
            // Adicionar imagens locais
            const localImages = JSON.parse(localStorage.getItem('localServiceImages') || '[]');
            localImages.forEach((img, index) => {
                const item = createGalleryItem(img.data, img.name, 'local', () => {
                    selectServiceImage(img);
                    selectGalleryItem(item);
                }, () => deleteLocalServiceImage(index));
                gallery.appendChild(item);
            });
            
            // Adicionar imagens do GitHub
            images.forEach(image => {
                const item = createGalleryItem(image.download_url, image.name, 'github', () => {
                    selectServiceImage({data: image.download_url, name: image.name});
                    selectGalleryItem(item);
                });
                gallery.appendChild(item);
            });
        }

        function createGalleryItem(src, name, source, onClick, onDelete = null) {
            const item = document.createElement('div');
            item.className = 'gallery-item';
            
            const img = document.createElement('img');
            img.src = src;
            img.alt = name;
            img.onerror = function() {
                this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjZjFmMmY2Ii8+CjxwYXRoIGQ9Ik01MCA0MEw2MCA1MEw1MCA2MEw0MCA1MEw1MCA0MFoiIGZpbGw9IiM5NWE1YTYiLz4KPC9zdmc+';
                this.alt = 'Erro ao carregar';
            };
            
            const info = document.createElement('div');
            info.className = 'item-info';
            info.innerHTML = `
                <div>${name}</div>
                <small>${source === 'github' ? '📁 GitHub' : '💾 Local'}</small>
            `;
            
            item.appendChild(img);
            item.appendChild(info);
            
            if (onDelete) {
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn';
                deleteBtn.innerHTML = '×';
                deleteBtn.onclick = (e) => {
                    e.stopPropagation();
                    if (confirm(`Excluir "${name}"?`)) {
                        onDelete();
                    }
                };
                item.appendChild(deleteBtn);
            }
            
            item.onclick = onClick;
            
            return item;
        }

        function selectGalleryItem(selectedItem) {
            // Remove seleção anterior
            document.querySelectorAll('.gallery-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            
            // Adiciona seleção ao item clicado
            selectedItem.classList.add('selected');
        }

        function setBackground(imageUrl) {
            document.body.style.backgroundImage = `url(${imageUrl})`;
            document.body.style.backgroundSize = 'cover';
            document.body.style.backgroundPosition = 'center';
            document.body.style.backgroundAttachment = 'fixed';
            
            saveToSettings('currentBackground', imageUrl);
            showMessage('adminSuccess', 'Fundo alterado com sucesso!', 'success');
        }

        function selectServiceImage(image) {
            // Salvar imagem selecionada para associar aos serviços
            saveToSettings('selectedServiceImage', image);
            showMessage('adminSuccess', `Imagem "${image.name}" selecionada!`, 'success');
        }

        // Upload Functions
        function uploadBackground(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (file.size > 2 * 1024 * 1024) {
                showMessage('adminSuccess', 'Arquivo muito grande! Máximo 2MB.', 'error');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const imageData = e.target.result;
                
                // Salvar localmente
                const localBackgrounds = JSON.parse(localStorage.getItem('localBackgrounds') || '[]');
                localBackgrounds.push({
                    name: file.name,
                    data: imageData,
                    uploaded: new Date().toISOString()
                });
                localStorage.setItem('localBackgrounds', JSON.stringify(localBackgrounds));
                
                // Aplicar como fundo atual
                setBackground(imageData);
                
                // Atualizar galeria
                displayBackgroundGallery([]);
                
                showMessage('adminSuccess', 'Fundo carregado e aplicado!', 'success');
            };
            reader.readAsDataURL(file);
        }

        function uploadServiceImages(event) {
            const files = Array.from(event.target.files);
            if (files.length === 0) return;
            
            let processed = 0;
            const localImages = JSON.parse(localStorage.getItem('localServiceImages') || '[]');
            
            showProgress(`Processando ${files.length} imagens...`);
            
            files.forEach(file => {
                if (file.size > 2 * 1024 * 1024) {
                    processed++;
                    if (processed === files.length) {
                        hideProgress();
                        displayServiceImageGallery([]);
                    }
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    localImages.push({
                        name: file.name,
                        data: e.target.result,
                        uploaded: new Date().toISOString()
                    });
                    
                    processed++;
                    updateProgress((processed / files.length) * 100);
                    
                    if (processed === files.length) {
                        localStorage.setItem('localServiceImages', JSON.stringify(localImages));
                        hideProgress();
                        displayServiceImageGallery([]);
                        showMessage('adminSuccess', `${files.length} imagens carregadas!`, 'success');
                    }
                };
                reader.readAsDataURL(file);
            });
        }

        function deleteLocalBackground(index) {
            const localBackgrounds = JSON.parse(localStorage.getItem('localBackgrounds') || '[]');
            localBackgrounds.splice(index, 1);
            localStorage.setItem('localBackgrounds', JSON.stringify(localBackgrounds));
            displayBackgroundGallery([]);
            showMessage('adminSuccess', 'Fundo excluído!', 'success');
        }

        function deleteLocalServiceImage(index) {
            const localImages = JSON.parse(localStorage.getItem('localServiceImages') || '[]');
            localImages.splice(index, 1);
            localStorage.setItem('localServiceImages', JSON.stringify(localImages));
            displayServiceImageGallery([]);
            showMessage('adminSuccess', 'Imagem excluída!', 'success');
        }

        // Progress Functions
        function showProgress(message) {
            let progressDiv = document.getElementById('uploadProgress');
            if (!progressDiv) {
                progressDiv = document.createElement('div');
                progressDiv.id = 'uploadProgress';
                progressDiv.className = 'upload-progress';
                progressDiv.innerHTML = `
                    <div id="progressMessage">${message}</div>
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill"></div>
                    </div>
                `;
                document.querySelector('.settings-grid').prepend(progressDiv);
            }
            
            progressDiv.style.display = 'block';
            document.getElementById('progressMessage').textContent = message;
            document.getElementById('progressFill').style.width = '0%';
        }

        function updateProgress(percent) {
            const progressFill = document.getElementById('progressFill');
            if (progressFill) {
                progressFill.style.width = percent + '%';
            }
        }

        function hideProgress() {
            const progressDiv = document.getElementById('uploadProgress');
            if (progressDiv) {
                progressDiv.style.display = 'none';
            }
        }

        // Load saved configurations on admin panel load
        function loadSavedConfigurations() {
            const settings = JSON.parse(localStorage.getItem('studioSettings') || '{}');
            
            // Load GitHub config
            if (settings.githubConfig) {
                document.getElementById('githubRepo').value = settings.githubConfig.repo || '';
                document.getElementById('githubToken').value = settings.githubConfig.token || '';
            }
            
            // Load current background
            if (settings.currentBackground) {
                setBackground(settings.currentBackground);
            }
            
            // Load galleries
            displayBackgroundGallery([]);
            displayServiceImageGallery([]);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Sistema inicializado com sucesso!');
            console.log('Clientes:', clients.length);
            console.log('Agendamentos:', appointments.length);
            
            // Load configurations when admin panel is accessed
            if (window.location.hash === '#admin') {
                loadSavedConfigurations();
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98fd8f9f3015190e',t:'MTc2MDY4MDY3My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
