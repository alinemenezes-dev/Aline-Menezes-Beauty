<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studio Aline Menezes</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const SUPABASE_URL = 'https://hpenhkikpbykhfdwryob.supabase.co';
  const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhwZW5oa2lrcGJ5a2hmZHdyeW9iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NTQwOTIsImV4cCI6MjA3NjIzMDA5Mn0.xGWlQj38ixf7ScwGI-7LA4K7KuhKoYd3DcwrP8u18yE';
  const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

  async function salvarConfiguracoesAdmin(config) {
    try {
      const { error } = await supabase
        .from('admin_config')
        .upsert({ id: 1, ...config, updated_at: new Date() }, { onConflict: 'id' });
      if (error) throw error;
      console.log('‚úÖ Configura√ß√µes do admin salvas no Supabase!');
    } catch (err) {
      console.error('‚ùå Erro ao salvar config do admin:', err.message);
    }
  }

  async function salvarCliente(cliente) {
    try {
      const { error } = await supabase
        .from('clientes')
        .insert([{ ...cliente, created_at: new Date() }]);
      if (error) throw error;
      console.log('‚úÖ Cliente salvo no Supabase!');
    } catch (err) {
      console.error('‚ùå Erro ao salvar cliente:', err.message);
    }
  }

  async function carregarConfiguracoesAdmin() {
    try {
      const { data, error } = await supabase
        .from('admin_config')
        .select('*')
        .eq('id', 1)
        .single();
      if (error) throw error;
      if (data) aplicarConfiguracoesAdmin(data);
    } catch (err) {
      console.warn('‚ö†Ô∏è Nenhuma configura√ß√£o do admin ainda.');
    }
  }

  function aplicarConfiguracoesAdmin(data) {
    if (data.studio_name && document.querySelector('#studioName'))
      document.querySelector('#studioName').textContent = data.studio_name;
    if (data.background_image)
      document.body.style.backgroundImage = `url(${data.background_image})`;
    if (data.studio_logo && document.querySelector('#studioLogo'))
      document.querySelector('#studioLogo').src = data.studio_logo;
    console.log('üé® Configura√ß√µes do admin aplicadas.');
  }

  document.addEventListener('DOMContentLoaded', carregarConfiguracoesAdmin);
</script>
    <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .background-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="50%" cy="50%"><stop offset="0%" stop-color="%23ffffff" stop-opacity="0.1"/><stop offset="100%" stop-color="%23000000" stop-opacity="0.05"/></radialGradient></defs><rect width="100%" height="100%" fill="url(%23a)"/></svg>') center/cover;
            backdrop-filter: blur(2px);
            z-index: -1;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .main-content-overlay {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .main-content-overlay::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            border-radius: 25px;
            pointer-events: none;
        }

        .logo-container {
            margin-bottom: 40px;
            text-align: center;
            margin-top: 0;
            position: relative;
            z-index: 2;
        }

        .studio-name {
            color: white;
            font-size: 32px;
            font-weight: 300;
            font-family: 'Poppins', sans-serif;
            letter-spacing: 3px;
            text-transform: uppercase;
            text-shadow: 0 4px 20px rgba(0,0,0,0.8);
            margin-bottom: 40px;
        }

        .main-buttons {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
            max-width: 400px;
            position: relative;
            z-index: 2;
        }

        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            padding: 18px 30px;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .btn-instagram {
            background: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);
        }

        .btn-whatsapp {
            background: #25D366;
        }

        .btn-maps {
            background: #4285F4;
        }

        .btn-catalog {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-catalog:hover {
            background: linear-gradient(45deg, #5a67d8, #6b46c1);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
        }

        .btn-client {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #000;
            font-weight: 600;
            animation: pulse 2s infinite;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 8px 25px rgba(255, 215, 0, 0.6);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
            }
        }

        .btn-admin {
            background: #2d3436;
        }

        .btn-uber {
            background: #000000;
        }

        .btn-99 {
            background: #FFD700;
            color: #000000;
        }

        .icon {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 420px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s ease;
            max-height: 85vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translate(-50%, -60%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        .modal-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #2d3436;
            margin-bottom: 8px;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #636e72;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: #f1f2f6;
            color: #2d3436;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #2d3436;
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 10px 14px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 15px;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
            background: white;
            color: #2d3436;
            font-weight: 500;
        }

        .form-input:focus {
            outline: none;
            border-color: #6c5ce7;
            background: #ffffff;
            box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.1);
        }

        .form-input::placeholder {
            color: #95a5a6;
            font-weight: 400;
        }

        .form-btn {
            width: 100%;
            padding: 12px;
            background: #6c5ce7;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .form-btn:hover {
            background: #5f3dc4;
            transform: translateY(-1px);
        }

        .panel {
            display: none;
            padding: 20px;
            background: white;
            margin: 20px;
            border-radius: 15px;
            min-height: calc(100vh - 40px);
        }

        .panel-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: #636e72;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
        }

        .success {
            background: #00b894;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            display: none;
        }

        .error {
            background: #e17055;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            display: none;
        }

        .admin-section {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .client-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border: 1px solid #ddd;
        }

        /* Client Panel */
        .panel {
            display: none;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            border-radius: 0;
            min-height: 100vh;
            position: relative;
        }

        .client-panel-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-top: 20px;
            margin-bottom: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .panel-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        .panel-header h1 {
            color: #2d3436;
            font-size: 28px;
            margin: 0 0 10px 0;
            font-weight: 600;
        }

        .panel-header p {
            color: white;
            font-size: 16px;
            margin: 0;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.9);
            color: #2d3436;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .success {
            background: linear-gradient(45deg, #00b894, #00a085);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            display: none;
            text-align: center;
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(0, 184, 148, 0.3);
        }

        .error {
            background: linear-gradient(45deg, #e17055, #d63031);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            display: none;
            text-align: center;
            font-weight: 500;
        }

        .booking-section {
            margin: 30px 0;
            padding: 25px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #2d3436;
            margin: 0 0 20px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin: 20px 0;
        }

        .calendar-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-bottom: 10px;
        }

        .calendar-day-header {
            text-align: center;
            font-weight: 600;
            color: #636e72;
            padding: 10px;
            font-size: 14px;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 500;
            font-size: 16px;
            color: #2d3436;
            transition: all 0.3s ease;
            min-height: 50px;
        }

        .calendar-day:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: scale(1.05);
        }

        .calendar-day.selected {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border-color: #667eea;
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .calendar-day.disabled {
            opacity: 0.3;
            cursor: not-allowed;
            background: #f1f2f6;
        }

        .calendar-day.disabled:hover {
            transform: none;
            background: #f1f2f6;
            border-color: #e9ecef;
        }

        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .time-slot {
            padding: 15px 20px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: 500;
            font-size: 16px;
            color: #2d3436;
            transition: all 0.3s ease;
        }

        .time-slot:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: translateY(-2px);
        }

        .time-slot.selected {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .service-selector {
            margin: 20px 0;
        }

        .service-dropdown {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 500;
            background: white;
            color: #2d3436;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .service-dropdown:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .service-dropdown:hover {
            border-color: #667eea;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.1);
        }

        .service-details {
            margin-top: 20px;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .service-card {
            background: linear-gradient(135deg, #f8f9ff, #e8f2ff);
            padding: 25px;
            border: 2px solid #667eea;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
        }

        .service-card h4 {
            color: #2d3436;
            font-size: 18px;
            font-weight: 600;
            margin: 0 0 15px 0;
        }

        .service-info {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .service-price {
            color: #00b894;
            font-size: 24px;
            font-weight: 700;
            background: white;
            padding: 8px 16px;
            border-radius: 25px;
            box-shadow: 0 2px 10px rgba(0, 184, 148, 0.2);
        }

        .service-duration {
            color: #636e72;
            font-size: 16px;
            font-weight: 500;
            background: white;
            padding: 8px 16px;
            border-radius: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .confirm-booking-btn {
            width: 100%;
            max-width: 400px;
            margin: 40px auto 20px auto;
            display: block;
            padding: 20px 30px;
            background: linear-gradient(45deg, #00b894, #00a085);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 184, 148, 0.3);
        }

        .confirm-booking-btn:hover:not(:disabled) {
            background: linear-gradient(45deg, #00a085, #00b894);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 184, 148, 0.4);
        }

        .confirm-booking-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .selection-summary {
            background: linear-gradient(135deg, #f8f9ff, #e8f2ff);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid #667eea;
        }

        .selection-summary h4 {
            color: #2d3436;
            margin: 0 0 15px 0;
            font-size: 18px;
        }

        .selection-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
            color: #2d3436;
        }

        .selection-item:last-child {
            border-bottom: none;
            font-weight: 600;
            color: #2d3436;
        }

        /* Admin Tabs Styles */
        .admin-tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 30px;
            overflow-x: auto;
        }

        .tab-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            border: none;
            background: transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-size: 14px;
            font-weight: 500;
            color: #6c757d;
        }

        .tab-btn:hover {
            background: #e9ecef;
            color: #495057;
        }

        .tab-btn.active {
            background: #007bff;
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stat-icon .icon {
            width: 24px;
            height: 24px;
            fill: white;
        }

        .stat-info h3 {
            margin: 0;
            font-size: 24px;
            font-weight: bold;
            color: #2d3436;
        }

        .stat-info p {
            margin: 5px 0 0 0;
            color: #636e72;
            font-size: 14px;
        }

        /* Section Headers */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .section-header h3 {
            margin: 0;
            color: #2d3436;
        }

        /* Search Bar */
        .search-bar {
            margin-bottom: 20px;
        }

        .search-bar input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            box-sizing: border-box;
        }

        /* Filter Controls */
        .filter-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-controls select {
            padding: 8px 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: white;
            cursor: pointer;
        }

        /* Enhanced Client Items */
        .client-item {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 15px;
            border: 1px solid #e9ecef;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .client-item:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .client-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .client-actions button {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-edit {
            background: #17a2b8;
            color: white;
        }

        .btn-delete {
            background: #dc3545;
            color: white;
        }

        .btn-whatsapp {
            background: #25D366;
            color: white;
        }

        .btn-confirm {
            background: #28a745;
            color: white;
        }

        .btn-birthday {
            background: #ff6b6b;
            color: white;
        }

        /* Category Filter Buttons */
        .category-btn {
            padding: 12px 25px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.1);
        }

        .category-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .category-btn.active {
            background: #667eea;
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        /* Mobile responsive for category buttons */
        @media (max-width: 768px) {
            .category-btn {
                padding: 12px 20px;
                font-size: 14px;
                min-width: 140px;
            }
            
            .service-card-mobile {
                margin-bottom: 15px;
            }
            
            .service-header-mobile h4 {
                font-size: 14px !important;
            }
            
            .maintenance-grid-mobile {
                grid-template-columns: 1fr !important;
                gap: 10px !important;
            }
        }

        @media (max-width: 480px) {
            .category-btn {
                padding: 10px 16px;
                font-size: 13px;
                min-width: 110px;
            }
            
            .service-card-mobile {
                padding: 12px !important;
                margin-bottom: 12px;
            }
            
            .service-header-mobile h4 {
                font-size: 13px !important;
                line-height: 1.2 !important;
            }
            
            .service-header-mobile p {
                font-size: 12px !important;
            }
            
            .service-header-mobile div[style*="font-size: 16px"] {
                font-size: 15px !important;
            }
            
            .service-header-mobile div[style*="font-size: 12px"] {
                font-size: 11px !important;
            }
        }

        /* Birthday Section */
        .birthday-section {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid #ff6b6b;
        }

        .birthday-section h4 {
            color: #2d3436;
            margin: 0 0 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .birthday-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .birthday-info {
            flex: 1;
        }

        .birthday-info strong {
            color: #2d3436;
            font-size: 16px;
        }

        .birthday-info small {
            color: #636e72;
            display: block;
            margin-top: 5px;
        }

        /* Mobile Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
                min-height: 100vh;
            }

            .main-content-overlay {
                padding: 20px;
                margin: 10px;
                border-radius: 20px;
            }

            .studio-name {
                font-size: 24px;
                letter-spacing: 2px;
                margin-bottom: 30px;
            }

            .main-buttons {
                max-width: 100%;
                gap: 12px;
            }

            .btn {
                padding: 12px 16px;
                font-size: 14px;
            }

            .modal-content {
                width: 95%;
                max-width: none;
                padding: 20px 15px;
                margin: 0;
                border-radius: 12px;
                max-height: 90vh;
                top: 5vh;
                left: 2.5%;
                transform: none;
                position: fixed;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .modal-title {
                font-size: 18px;
            }

            .form-input {
                font-size: 16px;
                padding: 12px;
            }

            .client-panel-content {
                margin: 5px;
                padding: 15px;
                border-radius: 15px;
                max-height: none;
                overflow-y: visible;
            }

            .panel-header h1 {
                font-size: 24px;
            }

            .booking-section {
                padding: 20px;
                margin: 20px 0;
            }

            .section-title {
                font-size: 18px;
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .calendar {
                gap: 5px;
            }

            .calendar-day {
                min-height: 40px;
                font-size: 14px;
            }

            .time-slots {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                gap: 10px;
            }

            .time-slot {
                padding: 12px 15px;
                font-size: 14px;
            }

            .service-dropdown {
                padding: 12px 15px;
                font-size: 15px;
            }

            .service-card {
                padding: 20px;
            }

            .service-info {
                flex-direction: column;
                gap: 10px;
            }

            .confirm-booking-btn {
                padding: 18px 25px;
                font-size: 16px;
                margin: 30px auto 15px auto;
            }

            .selection-summary {
                padding: 15px;
            }

            .back-btn {
                padding: 10px 15px;
                font-size: 14px;
            }

            /* Admin Panel Mobile */
            .admin-tabs {
                flex-direction: column;
                overflow-x: visible;
            }

            .tab-btn {
                justify-content: center;
                padding: 15px 20px;
                font-size: 15px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .stat-card {
                padding: 15px;
            }

            .stat-icon {
                width: 40px;
                height: 40px;
            }

            .stat-info h3 {
                font-size: 20px;
            }

            .section-header {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }

            .filter-controls {
                justify-content: stretch;
                flex-direction: column;
            }

            .filter-controls select {
                flex: 1;
                margin-bottom: 10px;
            }

            .search-bar input {
                font-size: 16px;
                padding: 15px;
            }

            .client-item {
                padding: 15px;
                margin: 8px 0;
            }

            .client-actions {
                flex-direction: column;
                gap: 8px;
                margin-top: 10px;
            }

            .client-actions button {
                padding: 10px 15px;
                font-size: 14px;
            }

            .birthday-item {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }

            .form-group {
                margin-bottom: 12px;
            }

            .form-btn {
                padding: 18px;
                font-size: 16px;
            }

            .admin-section {
                padding: 15px;
                margin: 15px 0;
            }
        }

        /* Extra small screens */
        @media (max-width: 480px) {
            .studio-name {
                font-size: 20px;
                letter-spacing: 1px;
            }

            .main-content-overlay {
                padding: 15px;
            }

            .main-buttons {
                gap: 10px;
            }

            .btn {
                padding: 10px 14px;
                font-size: 13px;
            }

            .modal-content {
                padding: 15px 12px;
                width: 96%;
                margin: 0;
                top: 2vh;
                left: 2%;
                max-height: 96vh;
                transform: none;
                position: fixed;
                border-radius: 10px;
            }

            .modal-title {
                font-size: 16px;
            }

            .form-input {
                padding: 10px 12px;
                font-size: 16px;
            }

            .form-btn {
                padding: 12px;
                font-size: 15px;
            }

            .calendar {
                gap: 3px;
            }

            .calendar-day {
                min-height: 35px;
                font-size: 13px;
            }

            .time-slots {
                grid-template-columns: repeat(2, 1fr);
            }

            .stats-grid {
                gap: 10px;
            }

            .stat-card {
                padding: 12px;
            }

            .client-actions {
                gap: 6px;
            }

            .client-actions button {
                padding: 8px 12px;
                font-size: 13px;
            }

            .panel {
                padding: 0;
                margin: 0;
            }

            .panel-header {
                padding: 15px;
                margin-bottom: 20px;
            }

            .panel-header h1 {
                font-size: 20px;
            }

            .admin-section {
                margin: 10px 5px;
                padding: 12px;
            }

            .booking-section {
                margin: 15px 0;
                padding: 15px;
            }

            .close-btn {
                top: 8px;
                right: 8px;
                font-size: 20px;
                width: 32px;
                height: 32px;
                background: #f1f2f6;
                border-radius: 50%;
            }
        }
    </style>
</head>
<body>
    <div class="background-overlay"></div>
    
    <!-- Landing Page -->
    <div id="landingPage" class="container">
        <div class="main-content-overlay">
            <div class="logo-container">
                <div class="studio-name">ALINE MENEZES BEAUTY</div>
            </div>
            
            <div class="main-buttons">
                <button class="btn btn-catalog" onclick="openModal('catalogModal')">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                    </svg>
                    Cat√°logo de Servi√ßos
                </button>
                
                <button class="btn btn-client" onclick="openModal('clientModal')">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                    Login Cliente
                </button>
                
                <button class="btn btn-admin" onclick="openModal('adminModal')">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                    </svg>
                    Login Admin
                </button>
                
                <a href="https://instagram.com/alinemenezes.beauty" target="_blank" rel="noopener noreferrer" class="btn btn-instagram">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                    </svg>
                    Instagram
                </a>
                
                <a href="https://wa.me/5549998200000" target="_blank" rel="noopener noreferrer" class="btn btn-whatsapp">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.085"/>
                    </svg>
                    WhatsApp
                </a>
                
                <button class="btn btn-maps" onclick="openLocationModal()">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                    </svg>
                    Como Chegar
                </button>
            </div>
        </div>
    </div>

    <!-- Client Login Modal -->
    <div id="clientModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('clientModal')">&times;</button>
            <div class="modal-header">
                <h2 class="modal-title">√Årea do Cliente</h2>
                <p>Fa√ßa seu cadastro ou login para agendar</p>
            </div>
            
            <div id="clientMsg" style="margin-bottom: 15px; padding: 10px; border-radius: 8px; text-align: center; display: none;"></div>
            
            <!-- Login Form -->
            <div id="clientLoginForm">
                <form onsubmit="loginClient(event)">
                    <div class="form-group">
                        <label for="loginName" class="form-label">Nome Completo</label>
                        <input type="text" id="loginName" class="form-input" placeholder="Digite seu nome completo" required>
                    </div>
                    <div class="form-group">
                        <label for="loginWhatsapp" class="form-label">WhatsApp</label>
                        <input type="tel" id="loginWhatsapp" class="form-input" placeholder="(49) 99999-9999" required>
                    </div>
                    <button type="submit" class="form-btn">Entrar</button>
                </form>
                
                <div style="text-align: center; margin-top: 20px;">
                    <p style="color: #636e72;">Primeira vez aqui?</p>
                    <div style="display: flex; justify-content: center;">
                        <button type="button" class="btn" onclick="showRegisterForm()" style="background: #00b894; color: white; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; max-width: 200px; width: 100%;">
                            FAZER CADASTRO
                        </button>
                    </div>
                </div>
            </div>

            <!-- Register Form -->
            <div id="clientRegisterForm" style="display: none;">
                <form onsubmit="registerClient(event)">
                    <div class="form-group">
                        <label for="registerName" class="form-label">Nome Completo</label>
                        <input type="text" id="registerName" class="form-input" placeholder="Digite seu nome completo" required>
                    </div>
                    <div class="form-group">
                        <label for="registerBirthdate" class="form-label">Data de Nascimento</label>
                        <input type="date" id="registerBirthdate" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="registerWhatsapp" class="form-label">WhatsApp</label>
                        <input type="tel" id="registerWhatsapp" class="form-input" placeholder="(49) 99999-9999" required>
                    </div>
                    <button type="submit" class="form-btn">Cadastrar</button>
                </form>
                
                <div style="text-align: center; margin-top: 20px;">
                    <p style="color: #636e72;">J√° tem cadastro?</p>
                    <div style="display: flex; justify-content: center;">
                        <button type="button" class="btn" onclick="showLoginForm()" style="background: #6c5ce7; color: white; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; max-width: 200px; width: 100%;">
                            FAZER LOGIN
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Catalog Modal -->
    <div id="catalogModal" class="modal">
        <div class="modal-content" style="max-width: 800px; max-height: 90vh; overflow-y: auto;">
            <button class="close-btn" onclick="closeModal('catalogModal')">&times;</button>
            <div class="modal-header">
                <h2 class="modal-title">CAT√ÅLOGO ALINE MENEZES BEAUTY</h2>
                <p>CONHE√áA NOSSOS SERVI√áOS</p>
                
                <!-- Category Filter Buttons -->
                <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px; flex-wrap: wrap; padding: 0 10px;">
                    <button class="category-btn active" onclick="filterByCategory('cilios')" data-category="cilios" style="flex: 1; min-width: 120px; max-width: 150px;">
                        üíÖ C√≠lios
                    </button>
                    <button class="category-btn" onclick="filterByCategory('sobrancelhas')" data-category="sobrancelhas" style="flex: 1; min-width: 120px; max-width: 150px;">
                        ‚ú® Sobrancelhas
                    </button>
                </div>
            </div>
            
            <div id="catalogContent" style="display: grid; gap: 20px;">
                <!-- Services will be loaded here -->
            </div>
            
            <div style="text-align: center; margin-top: 25px; padding: 15px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 15px; color: white;">
                <h3 style="margin: 0 0 10px 0; font-size: 18px;">‚ú® Pronta para se cuidar?</h3>
                <p style="margin: 0 0 15px 0; font-size: 14px;">Fa√ßa seu agendamento e garante seu momento de autocuidado!</p>
                <div style="display: flex; flex-direction: column; gap: 12px; align-items: center;">
                    <button class="btn btn-client" onclick="closeModal('catalogModal'); openModal('clientModal');" style="background: white; color: #667eea; margin: 0; font-weight: 600; width: 100%; max-width: 280px; padding: 15px 20px; font-size: 15px;">
                        üìÖ Agendar Agora
                    </button>
                    <button class="btn btn-whatsapp" onclick="shareCatalog()" style="background: #25D366; color: white; margin: 0; font-weight: 600; width: 100%; max-width: 280px; display: flex; align-items: center; justify-content: center; gap: 8px; padding: 15px 20px; font-size: 15px;">
                        <svg class="icon" viewBox="0 0 24 24" style="width: 18px; height: 18px; fill: currentColor;">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.085"/>
                        </svg>
                        Compartilhar Cat√°logo
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Location Modal -->
    <div id="locationModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('locationModal')">&times;</button>
            <div class="modal-header">
                <h2 class="modal-title">Como Chegar</h2>
                <p>Escolha sua forma de transporte</p>
            </div>
            
            <div style="margin-bottom: 25px; padding: 20px; background: #f8f9fa; border-radius: 15px; text-align: center;">
                <h3 style="margin: 0 0 10px 0; color: #2d3436; font-size: 18px;">üìç Nosso Endere√ßo</h3>
                <p style="margin: 0; color: #636e72; font-size: 16px; line-height: 1.5;">
                    Rua Manoel de Campos Salles, 461 - Sala 01<br>
                    Bairro S√£o Crist√≥v√£o<br>
                    Chapec√≥ - SC, CEP 89804-092
                </p>
            </div>
            
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <button class="btn btn-maps" onclick="openMaps()" style="margin: 0;">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                    </svg>
                    Abrir no Google Maps
                </button>
                
                <button class="btn btn-uber" onclick="openUber()" style="margin: 0;">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 5h2v2h-2V7zm0 4h2v6h-2v-6z"/>
                    </svg>
                    Chamar Uber
                </button>
                
                <button class="btn btn-99" onclick="open99()" style="margin: 0;">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 5h2v2h-2V7zm0 4h2v6h-2v-6z"/>
                        <text x="12" y="16" text-anchor="middle" fill="currentColor" font-size="8" font-weight="bold">99</text>
                    </svg>
                    Chamar 99
                </button>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('adminModal')">&times;</button>
            <div class="modal-header">
                <h2 class="modal-title">Login Administrador</h2>
                <p>Acesso restrito para administradores</p>
            </div>
            
            <div id="adminMsg" style="margin-bottom: 15px; padding: 10px; border-radius: 8px; text-align: center; display: none;"></div>
            
            <form onsubmit="adminLogin(event)">
                <div class="form-group">
                    <label for="adminUser" class="form-label">Usu√°rio</label>
                    <input type="text" id="adminUser" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="adminPassword" class="form-label">Senha</label>
                    <input type="password" id="adminPassword" class="form-input" required>
                </div>
                <button type="submit" class="form-btn">Entrar</button>
            </form>
        </div>
    </div>

    <!-- Client Panel -->
    <div id="clientPanel" class="panel">
        <button class="back-btn" onclick="backToHome()">‚Üê Voltar</button>
        
        <div class="client-panel-content">
            <div class="panel-header">
                <h1>üíÖ Agendar Servi√ßo</h1>
                <p>Siga os passos abaixo para fazer seu agendamento</p>
            </div>

            <div id="bookingSuccess" class="success">
                ‚úÖ Agendamento realizado com sucesso!
            </div>

            <!-- Selection Summary -->
            <div id="selectionSummary" class="selection-summary" style="display: none;">
                <h4>üìã Resumo do Agendamento</h4>
                <div class="selection-item">
                    <span>üìÖ Data:</span>
                    <span id="summaryDate">-</span>
                </div>
                <div class="selection-item">
                    <span>üïê Hor√°rio:</span>
                    <span id="summaryTime">-</span>
                </div>
                <div class="selection-item">
                    <span>üíÖ Servi√ßo:</span>
                    <span id="summaryService">-</span>
                </div>
                <div class="selection-item">
                    <span>üí∞ Valor:</span>
                    <span id="summaryPrice">-</span>
                </div>
            </div>

            <!-- Step 1: Choose Service -->
            <div class="booking-section">
                <h3 class="section-title">
                    <span style="background: #667eea; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold;">1</span>
                    Escolha o Servi√ßo
                </h3>
                <div class="service-selector">
                    <label for="serviceSelect" class="form-label">üíÖ Selecione o servi√ßo desejado:</label>
                    <select id="serviceSelect" class="service-dropdown" onchange="selectServiceFromDropdown(this)">
                        <option value="">-- Clique aqui para escolher --</option>
                    </select>
                    
                    <!-- Service Details Display -->
                    <div id="serviceDetails" class="service-details" style="display: none;">
                        <div class="service-card">
                            <h4 id="selectedServiceName">Servi√ßo Selecionado</h4>
                            <div class="service-info">
                                <span class="service-price" id="selectedServicePrice">R$ 0,00</span>
                                <span class="service-duration" id="selectedServiceDuration">‚è±Ô∏è 0 min</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 2: Choose Date -->
            <div class="booking-section">
                <h3 class="section-title">
                    <span style="background: #667eea; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold;">2</span>
                    Escolha a Data
                </h3>
                <div class="calendar-header">
                    <div class="calendar-day-header">Dom</div>
                    <div class="calendar-day-header">Seg</div>
                    <div class="calendar-day-header">Ter</div>
                    <div class="calendar-day-header">Qua</div>
                    <div class="calendar-day-header">Qui</div>
                    <div class="calendar-day-header">Sex</div>
                    <div class="calendar-day-header">S√°b</div>
                </div>
                <div class="calendar" id="calendar"></div>
            </div>

            <!-- Step 3: Choose Time -->
            <div class="booking-section">
                <h3 class="section-title">
                    <span style="background: #667eea; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold;">3</span>
                    Escolha o Hor√°rio
                </h3>
                <div class="time-slots" id="timeSlots"></div>
            </div>

            <button class="confirm-booking-btn" onclick="confirmBooking()" id="confirmBtn" disabled>
                üéØ Confirmar Agendamento
            </button>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="panel">
        <button class="back-btn" onclick="backToHome()">‚Üê Voltar</button>
        
        <div class="panel-header">
            <h1>Painel Administrativo</h1>
            <p>Bem-vinda, Aline!</p>
        </div>

        <div id="adminSuccess" class="success"></div>

        <!-- Admin Navigation Tabs -->
        <div class="admin-tabs">
            <button class="tab-btn active" onclick="showTab('dashboard')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg>
                Dashboard
            </button>
            <button class="tab-btn" onclick="showTab('clients')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A2.996 2.996 0 0 0 17.06 7H16.94c-1.08 0-2.07.56-2.63 1.37L12 12l2.31 3.63c.56.81 1.55 1.37 2.63 1.37H18V22h2zM12.5 11.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm1.5 16v-5H9l-2.54-7.63A2.996 2.996 0 0 0 3.56 8H2.44c-1.08 0-2.07.56-2.63 1.37L-2.5 13l2.31 3.63c.56.81 1.55 1.37 2.63 1.37H4V22h3z"/></svg>
                Clientes
            </button>
            <button class="tab-btn" onclick="showTab('appointments')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg>
                Agendamentos
            </button>
            <button class="tab-btn" onclick="showTab('services')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
                Servi√ßos
            </button>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboardTab" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon" style="background: #007bff;">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2z"/></svg>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalClients">0</h3>
                        <p>Total Clientes</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: #28a745;">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>
                    </div>
                    <div class="stat-info">
                        <h3 id="todayAppointments">0</h3>
                        <p>Hoje</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: #ffc107;">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>
                    </div>
                    <div class="stat-info">
                        <h3 id="monthAppointments">0</h3>
                        <p>Este M√™s</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: #17a2b8;">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/></svg>
                    </div>
                    <div class="stat-info">
                        <h3 id="monthRevenue">R$ 0</h3>
                        <p>Receita M√™s</p>
                    </div>
                </div>
            </div>

            <!-- Birthday Section -->
            <div class="birthday-section">
                <h4>üéÇ Aniversariantes do M√™s</h4>
                <div id="birthdayClients"></div>
            </div>

            <div class="admin-section">
                <h3>üìÖ Pr√≥ximos Agendamentos</h3>
                <div id="upcomingAppointments"></div>
            </div>
        </div>

        <!-- Clients Tab -->
        <div id="clientsTab" class="tab-content">
            <div class="section-header">
                <h3>üë• Gerenciar Clientes</h3>
                <button class="btn btn-admin" onclick="showAddClientForm()">+ Novo Cliente</button>
            </div>

            <div class="search-bar">
                <input type="text" id="clientSearch" placeholder="üîç Buscar cliente..." onkeyup="searchClients()">
            </div>

            <div id="addClientForm" class="admin-section" style="display: none;">
                <h4>Adicionar Novo Cliente</h4>
                <form onsubmit="addClient(event)" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <input type="text" id="newClientName" placeholder="Nome completo" required>
                    <input type="date" id="newClientBirthdate" placeholder="Data de nascimento" required>
                    <input type="tel" id="newClientWhatsapp" placeholder="WhatsApp (49) 99999-9999" required>
                    <input type="email" id="newClientEmail" placeholder="E-mail (opcional)">
                    <button type="submit" class="btn btn-admin">Adicionar Cliente</button>
                    <button type="button" class="btn" onclick="hideAddClientForm()" style="background: #6c757d;">Cancelar</button>
                </form>
            </div>

            <div class="admin-section">
                <div class="clients-header">
                    <h4>Clientes Cadastrados (<span id="clientCount">0</span>)</h4>
                </div>
                <div id="clientsList"></div>
            </div>
        </div>

        <!-- Appointments Tab -->
        <div id="appointmentsTab" class="tab-content">
            <div class="section-header">
                <h3>üìÖ Gerenciar Agendamentos</h3>
                <div class="filter-controls">
                    <select id="dateFilter" onchange="filterAppointments()">
                        <option value="all">Todas as datas</option>
                        <option value="today">Hoje</option>
                        <option value="week">Esta semana</option>
                        <option value="month">Este m√™s</option>
                    </select>
                    <select id="statusFilter" onchange="filterAppointments()">
                        <option value="all">Todos os status</option>
                        <option value="confirmed">Confirmados</option>
                        <option value="pending">Pendentes</option>
                        <option value="cancelled">Cancelados</option>
                    </select>
                </div>
            </div>

            <div class="admin-section">
                <div class="appointments-header">
                    <h4>Lista de Agendamentos (<span id="appointmentCount">0</span>)</h4>
                </div>
                <div id="appointmentsList"></div>
            </div>
        </div>

        <!-- Services Tab -->
        <div id="servicesTab" class="tab-content">
            <div class="section-header">
                <h3>üíÖ Gerenciar Servi√ßos</h3>
                <button class="btn btn-admin" onclick="showAddServiceForm()">+ Novo Servi√ßo</button>
            </div>

            <div id="addServiceForm" class="admin-section" style="display: none;">
                <h4>Adicionar Novo Servi√ßo</h4>
                <form onsubmit="addService(event)" style="display: grid; gap: 20px;">
                    <div class="form-group">
                        <label for="newServiceName" class="form-label">Nome do Servi√ßo</label>
                        <input type="text" id="newServiceName" class="form-input" placeholder="Nome do servi√ßo" required>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-group">
                            <label for="newServicePrice" class="form-label">Pre√ßo (R$)</label>
                            <input type="number" id="newServicePrice" class="form-input" placeholder="120.00" step="0.01" min="0" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="newServiceDuration" class="form-label">Dura√ß√£o (minutos)</label>
                            <input type="number" id="newServiceDuration" class="form-input" placeholder="60" min="15" step="15" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="newServiceDescription" class="form-label">Descri√ß√£o</label>
                        <textarea id="newServiceDescription" class="form-input" rows="3" placeholder="Descri√ß√£o do servi√ßo (opcional)"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="newServiceCategory" class="form-label">Categoria</label>
                        <select id="newServiceCategory" class="form-input" required>
                            <option value="">Selecione uma categoria</option>
                            <option value="cilios">C√≠lios</option>
                            <option value="sobrancelhas">Sobrancelhas</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Imagem do Servi√ßo</label>
                        <div style="display: flex; align-items: center; gap: 20px;">
                            <div style="width: 120px; height: 120px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 15px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); cursor: pointer; overflow: hidden;" onclick="document.getElementById('newServiceImageInput').click()">
                                <div id="newServiceImagePreview" style="width: 100%; height: 100%; border-radius: 15px; background-size: cover; background-position: center; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; font-weight: 500; text-align: center; line-height: 1.3;">
                                    üì∏<br>Clique para<br>Adicionar
                                </div>
                            </div>
                            <div style="flex: 1;">
                                <input type="file" id="newServiceImageInput" accept="image/*" style="display: none;" onchange="handleNewServiceImageUpload(event)">
                                <button type="button" class="btn" onclick="document.getElementById('newServiceImageInput').click()" style="background: #667eea; color: white; margin-bottom: 10px; width: 100%;">
                                    Escolher Imagem
                                </button>
                                <button type="button" class="btn" onclick="removeNewServiceImage()" style="background: #dc3545; color: white; width: 100%;">
                                    Remover Imagem
                                </button>
                                <small style="color: #636e72; display: block; margin-top: 8px;">
                                    Formatos aceitos: JPG, PNG, GIF<br>
                                    Tamanho m√°ximo: 5MB
                                </small>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <button type="submit" class="btn btn-admin">Adicionar Servi√ßo</button>
                        <button type="button" class="btn" onclick="hideAddServiceForm()" style="background: #6c757d;">Cancelar</button>
                    </div>
                </form>
            </div>

            <div class="admin-section">
                <div class="services-header">
                    <h4>Servi√ßos Cadastrados (<span id="serviceCount">0</span>)</h4>
                </div>
                <div id="servicesList"></div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let selectedDate = null;
        let selectedTime = null;
        let selectedService = null;
        let clients = JSON.parse(localStorage.getItem('clients') || '[]');
        let appointments = JSON.parse(localStorage.getItem('appointments') || '[]');
        let services = JSON.parse(localStorage.getItem('services') || '[]');

        // Initialize default services if none exist
        if (services.length === 0) {
            services = [
                {
                    id: 1,
                    name: "Extens√£o de C√≠lios Volume Brasileiro",
                    price: 120.00,
                    duration: 120,
                    description: "T√©cnica brasileira para volume natural"
                },
                {
                    id: 2,
                    name: "Extens√£o de C√≠lios Volume Glamour",
                    price: 150.00,
                    duration: 150,
                    description: "Volume intenso para ocasi√µes especiais"
                },
                {
                    id: 3,
                    name: "Extens√£o de C√≠lios Volume Marrom",
                    price: 140.00,
                    duration: 140,
                    description: "Efeito natural com fios marrons"
                },
                {
                    id: 4,
                    name: "Extens√£o de C√≠lios Volume Fox",
                    price: 160.00,
                    duration: 160,
                    description: "Efeito fox eyes alongado"
                },
                {
                    id: 5,
                    name: "Design de Sobrancelhas Personalizado",
                    price: 45.00,
                    duration: 45,
                    description: "Design exclusivo para seu rosto"
                },
                {
                    id: 6,
                    name: "Design de Sobrancelhas com Henna/Tintura",
                    price: 55.00,
                    duration: 60,
                    description: "Design com colora√ß√£o profissional"
                },
                {
                    id: 7,
                    name: "Brow Lamination",
                    price: 80.00,
                    duration: 90,
                    description: "Alisamento e modelagem das sobrancelhas"
                },
                {
                    id: 8,
                    name: "Lash Lifting",
                    price: 70.00,
                    duration: 60,
                    description: "Curvatura natural dos c√≠lios"
                },
                {
                    id: 9,
                    name: "Manuten√ß√£o Volume Brasileiro - At√© 15 dias",
                    price: 60.00,
                    duration: 60,
                    description: "Retoque do volume brasileiro at√© 15 dias"
                },
                {
                    id: 10,
                    name: "Manuten√ß√£o Volume Brasileiro - At√© 20 dias",
                    price: 70.00,
                    duration: 70,
                    description: "Retoque do volume brasileiro at√© 20 dias"
                },
                {
                    id: 11,
                    name: "Manuten√ß√£o Volume Glamour - At√© 15 dias",
                    price: 75.00,
                    duration: 75,
                    description: "Retoque do volume glamour at√© 15 dias"
                },
                {
                    id: 12,
                    name: "Manuten√ß√£o Volume Glamour - At√© 20 dias",
                    price: 85.00,
                    duration: 85,
                    description: "Retoque do volume glamour at√© 20 dias"
                },
                {
                    id: 13,
                    name: "Manuten√ß√£o Volume Marrom - At√© 15 dias",
                    price: 70.00,
                    duration: 70,
                    description: "Retoque do volume marrom at√© 15 dias"
                },
                {
                    id: 14,
                    name: "Manuten√ß√£o Volume Marrom - At√© 20 dias",
                    price: 80.00,
                    duration: 80,
                    description: "Retoque do volume marrom at√© 20 dias"
                },
                {
                    id: 15,
                    name: "Manuten√ß√£o Volume Fox - At√© 15 dias",
                    price: 80.00,
                    duration: 80,
                    description: "Retoque do volume fox at√© 15 dias"
                },
                {
                    id: 16,
                    name: "Manuten√ß√£o Volume Fox - At√© 20 dias",
                    price: 90.00,
                    duration: 90,
                    description: "Retoque do volume fox at√© 20 dias"
                }
            ];
            localStorage.setItem('services', JSON.stringify(services));
        }

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            
            // Load catalog content when opening catalog modal
            if (modalId === 'catalogModal') {
                loadCatalogContent();
            }
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function backToHome() {
            document.getElementById('landingPage').style.display = 'flex';
            document.getElementById('clientPanel').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'none';
            currentUser = null;
            selectedDate = null;
            selectedTime = null;
            selectedService = null;
        }

        // Show/Hide forms
        function showRegisterForm() {
            document.getElementById('clientLoginForm').style.display = 'none';
            document.getElementById('clientRegisterForm').style.display = 'block';
            document.getElementById('clientMsg').style.display = 'none';
        }

        function showLoginForm() {
            document.getElementById('clientRegisterForm').style.display = 'none';
            document.getElementById('clientLoginForm').style.display = 'block';
            document.getElementById('clientMsg').style.display = 'none';
        }

        // Message display function
        function showMessage(elementId, message, type = 'success') {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.className = type;
            element.style.display = 'block';
            
            setTimeout(() => {
                element.style.display = 'none';
            }, 5000);
        }

        // Client registration
        function registerClient(event) {
            event.preventDefault();
            const name = document.getElementById('registerName').value.trim();
            const birthdate = document.getElementById('registerBirthdate').value;
            const whatsapp = document.getElementById('registerWhatsapp').value.trim();
            
            // Check if client already exists
            const existingClient = clients.find(c => 
                c.name.toLowerCase() === name.toLowerCase() || c.whatsapp === whatsapp
            );
            
            if (existingClient) {
                showMessage('clientMsg', 'Cliente j√° cadastrado com este nome ou WhatsApp!', 'error');
                return;
            }
            
            // Create new client
            const newClient = {
                id: Date.now(),
                name: name,
                birthdate: birthdate,
                whatsapp: whatsapp,
                created: new Date().toISOString()
            };
            
            clients.push(newClient);
            localStorage.setItem('clients', JSON.stringify(clients));
            
            // Auto login after registration
            currentUser = newClient;
            closeModal('clientModal');
            showClientPanel();
            
            showMessage('bookingSuccess', `Bem-vindo(a), ${name}! Cadastro realizado com sucesso!`, 'success');
        }

        // Client login
        function loginClient(event) {
            event.preventDefault();
            const name = document.getElementById('loginName').value.trim();
            const whatsapp = document.getElementById('loginWhatsapp').value.trim();
            
            const client = clients.find(c => 
                c.name.toLowerCase() === name.toLowerCase() && c.whatsapp === whatsapp
            );
            
            if (client) {
                currentUser = client;
                closeModal('clientModal');
                showClientPanel();
            } else {
                showMessage('clientMsg', 'Nome ou WhatsApp incorretos! Verifique os dados ou fa√ßa seu cadastro.', 'error');
            }
        }

        // Admin login
        function adminLogin(event) {
            event.preventDefault();
            const user = document.getElementById('adminUser').value;
            const pass = document.getElementById('adminPassword').value;
            
            if (user === 'aline' && pass === 'aline2924') {
                currentUser = {name: 'Aline', role: 'admin'};
                closeModal('adminModal');
                showAdminPanel();
            } else {
                showMessage('adminMsg', 'Credenciais incorretas!', 'error');
            }
        }

        // Show panels
        function showClientPanel() {
            document.getElementById('landingPage').style.display = 'none';
            document.getElementById('clientPanel').style.display = 'block';
            generateCalendar();
            generateTimeSlots();
            loadServicesDropdown();
        }

        function showAdminPanel() {
            document.getElementById('landingPage').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'block';
            loadClients();
            loadAppointments();
            loadServices();
            updateStats();
            loadBirthdayClients();
        }

        // Load services into dropdown
        function loadServicesDropdown() {
            const select = document.getElementById('serviceSelect');
            select.innerHTML = '<option value="">-- Clique aqui para escolher --</option>';
            
            services.forEach(service => {
                const option = document.createElement('option');
                option.value = service.name;
                option.dataset.price = service.price.toFixed(2);
                option.dataset.duration = service.duration;
                option.textContent = `${service.name} - R$ ${service.price.toFixed(2).replace('.', ',')}`;
                select.appendChild(option);
            });
        }

        // Calendar
        function generateCalendar() {
            const calendar = document.getElementById('calendar');
            calendar.innerHTML = '';
            
            const today = new Date();
            const year = today.getFullYear();
            const month = today.getMonth();
            
            // First day of month
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            // Empty cells
            for (let i = 0; i < firstDay; i++) {
                calendar.appendChild(document.createElement('div'));
            }
            
            // Days
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                
                const dayDate = new Date(year, month, day);
                if (dayDate >= today) {
                    dayElement.onclick = () => selectDate(dayDate, dayElement);
                } else {
                    dayElement.classList.add('disabled');
                }
                
                calendar.appendChild(dayElement);
            }
        }

        function selectDate(date, element) {
            document.querySelectorAll('.calendar-day.selected').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            selectedDate = date.toISOString().split('T')[0];
            updateSelectionSummary();
            updateConfirmButton();
        }

        // Time slots
        function generateTimeSlots() {
            const timeSlots = document.getElementById('timeSlots');
            timeSlots.innerHTML = '';
            
            const times = ['09:00', '10:00', '11:00', '14:00', '15:00', '16:00', '17:00', '18:00'];
            
            times.forEach(time => {
                const slot = document.createElement('div');
                slot.className = 'time-slot';
                slot.textContent = time;
                slot.onclick = () => selectTime(time, slot);
                timeSlots.appendChild(slot);
            });
        }

        function selectTime(time, element) {
            document.querySelectorAll('.time-slot.selected').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            selectedTime = time;
            updateSelectionSummary();
            updateConfirmButton();
        }

        // Service selection from dropdown
        function selectServiceFromDropdown(selectElement) {
            const selectedOption = selectElement.options[selectElement.selectedIndex];
            
            if (selectedOption.value === '') {
                selectedService = null;
                document.getElementById('serviceDetails').style.display = 'none';
            } else {
                const price = parseFloat(selectedOption.dataset.price);
                const duration = parseInt(selectedOption.dataset.duration);
                
                selectedService = {
                    id: selectedOption.value.toLowerCase().replace(/\s+/g, '_'),
                    name: selectedOption.value,
                    price: `R$ ${price.toFixed(2).replace('.', ',')}`
                };
                
                // Update service details display
                document.getElementById('selectedServiceName').textContent = selectedOption.value;
                document.getElementById('selectedServicePrice').textContent = `R$ ${price.toFixed(2).replace('.', ',')}`;
                document.getElementById('selectedServiceDuration').textContent = `‚è±Ô∏è ${duration} min`;
                document.getElementById('serviceDetails').style.display = 'block';
            }
            
            updateSelectionSummary();
            updateConfirmButton();
        }

        function updateConfirmButton() {
            const btn = document.getElementById('confirmBtn');
            btn.disabled = !(selectedDate && selectedTime && selectedService);
        }

        function updateSelectionSummary() {
            const summary = document.getElementById('selectionSummary');
            
            if (selectedService || selectedDate || selectedTime) {
                summary.style.display = 'block';
                
                document.getElementById('summaryService').textContent = selectedService ? selectedService.name : '-';
                document.getElementById('summaryPrice').textContent = selectedService ? selectedService.price : '-';
                document.getElementById('summaryDate').textContent = selectedDate ? new Date(selectedDate).toLocaleDateString('pt-BR') : '-';
                document.getElementById('summaryTime').textContent = selectedTime || '-';
            } else {
                summary.style.display = 'none';
            }
        }

        // Booking
        function confirmBooking() {
            if (!selectedDate || !selectedTime || !selectedService || !currentUser) return;
            
            const appointment = {
                id: Date.now(),
                clientId: currentUser.id,
                clientName: currentUser.name,
                clientWhatsapp: currentUser.whatsapp,
                date: selectedDate,
                time: selectedTime,
                service: selectedService,
                status: 'confirmed',
                created: new Date().toISOString()
            };
            
            appointments.push(appointment);
            localStorage.setItem('appointments', JSON.stringify(appointments));
            
            showMessage('bookingSuccess', 'Agendamento realizado com sucesso!', 'success');
            
            // Reset
            selectedDate = null;
            selectedTime = null;
            selectedService = null;
            document.querySelectorAll('.selected').forEach(el => el.classList.remove('selected'));
            document.getElementById('serviceSelect').value = '';
            document.getElementById('serviceDetails').style.display = 'none';
            updateConfirmButton();
            updateSelectionSummary();
        }

        // Location functions
        function openLocationModal() {
            openModal('locationModal');
        }

        function openMaps() {
            const address = 'Rua Manoel de Campos Salles, 461 - Sala 01, S√£o Crist√≥v√£o, Chapec√≥ - SC, 89804-092';
            const url = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(address)}`;
            window.open(url, '_blank', 'noopener,noreferrer');
        }

        function openUber() {
            const address = 'Rua Manoel de Campos Salles, 461 - Sala 01, S√£o Crist√≥v√£o, Chapec√≥ - SC, 89804-092';
            const latitude = '-27.0945';
            const longitude = '-52.6166';
            
            // Try multiple Uber URL formats for better compatibility
            const urls = [
                `uber://?action=setPickup&pickup=my_location&dropoff[formatted_address]=${encodeURIComponent(address)}&dropoff[latitude]=${latitude}&dropoff[longitude]=${longitude}`,
                `https://m.uber.com/ul/?action=setPickup&pickup=my_location&dropoff[formatted_address]=${encodeURIComponent(address)}&dropoff[latitude]=${latitude}&dropoff[longitude]=${longitude}`,
                `https://uber.com/go/?pickup=my_location&dropoff=${encodeURIComponent(address)}`
            ];
            
            // Try to open the app first, then fallback to web
            window.open(urls[0], '_blank', 'noopener,noreferrer');
            
            // Fallback to web version after a short delay
            setTimeout(() => {
                window.open(urls[1], '_blank', 'noopener,noreferrer');
            }, 1000);
        }

        function open99() {
            const address = 'Rua Manoel de Campos Salles, 461 - Sala 01, S√£o Crist√≥v√£o, Chapec√≥ - SC, 89804-092';
            const latitude = '-27.0945';
            const longitude = '-52.6166';
            
            // Try multiple 99 URL formats for better compatibility
            const urls = [
                `99app://ride?destination=${encodeURIComponent(address)}&destination_lat=${latitude}&destination_lng=${longitude}`,
                `https://99app.com/ride?destination=${encodeURIComponent(address)}&destination_lat=${latitude}&destination_lng=${longitude}`,
                `https://99app.com/request?destination=${encodeURIComponent(address)}`
            ];
            
            // Try to open the app first, then fallback to web
            window.open(urls[0], '_blank', 'noopener,noreferrer');
            
            // Fallback to web version after a short delay
            setTimeout(() => {
                window.open(urls[1], '_blank', 'noopener,noreferrer');
            }, 1000);
        }

        // Admin Tab Management
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + 'Tab').classList.add('active');
            event.target.classList.add('active');
            
            // Load data for specific tabs
            if (tabName === 'clients') {
                loadClients();
            } else if (tabName === 'appointments') {
                loadAppointments();
            } else if (tabName === 'services') {
                loadServices();
            } else if (tabName === 'dashboard') {
                updateStats();
                loadBirthdayClients();
            }
        }

        // Client Management Functions
        function showAddClientForm() {
            document.getElementById('addClientForm').style.display = 'block';
        }

        function hideAddClientForm() {
            document.getElementById('addClientForm').style.display = 'none';
            // Clear form
            document.getElementById('newClientName').value = '';
            document.getElementById('newClientBirthdate').value = '';
            document.getElementById('newClientWhatsapp').value = '';
            document.getElementById('newClientEmail').value = '';
        }

        function addClient(event) {
            event.preventDefault();
            
            const name = document.getElementById('newClientName').value.trim();
            const birthdate = document.getElementById('newClientBirthdate').value;
            const whatsapp = document.getElementById('newClientWhatsapp').value.trim();
            const email = document.getElementById('newClientEmail').value.trim();
            
            // Check if client already exists
            const existingClient = clients.find(c => 
                c.name.toLowerCase() === name.toLowerCase() || c.whatsapp === whatsapp
            );
            
            if (existingClient) {
                showMessage('adminSuccess', 'Cliente j√° cadastrado com este nome ou WhatsApp!', 'error');
                return;
            }
            
            const newClient = {
                id: Date.now(),
                name: name,
                birthdate: birthdate,
                whatsapp: whatsapp,
                email: email,
                created: new Date().toISOString()
            };
            
            clients.push(newClient);
            localStorage.setItem('clients', JSON.stringify(clients));
            
            hideAddClientForm();
            loadClients();
            updateStats();
            showMessage('adminSuccess', 'Cliente adicionado com sucesso!', 'success');
        }

        function loadClients() {
            displayClients(clients);
        }

        function displayClients(clientList) {
            const list = document.getElementById('clientsList');
            const count = document.getElementById('clientCount');
            
            list.innerHTML = '';
            count.textContent = clientList.length;
            
            clientList.forEach(client => {
                const item = document.createElement('div');
                item.className = 'client-item';
                item.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start;">
                        <div>
                            <strong style="font-size: 16px; color: #2d3436;">${client.name}</strong><br>
                            <span style="color: #636e72;">üì± ${client.whatsapp}</span><br>
                            <span style="color: #636e72;">üéÇ ${new Date(client.birthdate).toLocaleDateString('pt-BR')}</span><br>
                            ${client.email ? `<span style="color: #636e72;">üìß ${client.email}</span><br>` : ''}
                            <small style="color: #95a5a6;">Cadastrado: ${new Date(client.created).toLocaleDateString('pt-BR')}</small>
                        </div>
                        <div class="client-actions">
                            <button class="btn-edit" onclick="editClient(${client.id})">Editar</button>
                            <button class="btn-delete" onclick="deleteClient(${client.id})">Excluir</button>
                            <button class="btn-whatsapp" onclick="contactClient('${client.whatsapp}', '${client.name}')">WhatsApp</button>
                        </div>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        function searchClients() {
            const searchTerm = document.getElementById('clientSearch').value.toLowerCase();
            const filteredClients = clients.filter(client => 
                client.name.toLowerCase().includes(searchTerm) ||
                client.whatsapp.includes(searchTerm)
            );
            displayClients(filteredClients);
        }

        function editClient(id) {
            const client = clients.find(c => c.id === id);
            if (!client) return;
            
            const newName = prompt('Nome:', client.name);
            if (newName === null) return;
            
            const newWhatsapp = prompt('WhatsApp:', client.whatsapp);
            if (newWhatsapp === null) return;
            
            const newBirthdate = prompt('Data de nascimento (YYYY-MM-DD):', client.birthdate);
            if (newBirthdate === null) return;
            
            client.name = newName.trim();
            client.whatsapp = newWhatsapp.trim();
            client.birthdate = newBirthdate;
            client.updated = new Date().toISOString();
            
            localStorage.setItem('clients', JSON.stringify(clients));
            loadClients();
            showMessage('adminSuccess', 'Cliente atualizado!', 'success');
        }

        function deleteClient(id) {
            const client = clients.find(c => c.id === id);
            if (!client) return;
            
            if (confirm(`Excluir cliente "${client.name}"?`)) {
                clients = clients.filter(c => c.id !== id);
                localStorage.setItem('clients', JSON.stringify(clients));
                loadClients();
                updateStats();
                showMessage('adminSuccess', 'Cliente exclu√≠do!', 'success');
            }
        }

        function contactClient(whatsapp, name) {
            const cleanPhone = whatsapp.replace(/\D/g, '');
            const message = `Ol√° ${name}! Como posso ajud√°-la hoje?`;
            const url = `https://wa.me/55${cleanPhone}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank', 'noopener,noreferrer');
        }

        // Appointment Management Functions
        function loadAppointments() {
            displayAppointments(appointments);
        }

        function displayAppointments(appointmentList) {
            const list = document.getElementById('appointmentsList');
            const count = document.getElementById('appointmentCount');
            
            list.innerHTML = '';
            count.textContent = appointmentList.length;
            
            appointmentList.forEach(appointment => {
                const item = document.createElement('div');
                item.className = 'client-item';
                item.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start;">
                        <div>
                            <strong style="font-size: 16px; color: #2d3436;">${appointment.clientName}</strong><br>
                            <span style="color: #636e72;">üìÖ ${new Date(appointment.date).toLocaleDateString('pt-BR')} √†s ${appointment.time}</span><br>
                            <span style="color: #636e72;">üíÖ ${appointment.service.name}</span><br>
                            <span style="color: #00b894; font-weight: bold;">${appointment.service.price}</span><br>
                            <small style="color: #95a5a6;">Agendado: ${new Date(appointment.created).toLocaleDateString('pt-BR')}</small>
                        </div>
                        <div class="client-actions">
                            <button class="btn-confirm" onclick="sendManualConfirmation(${appointment.id})">Enviar Confirma√ß√£o</button>
                            <button class="btn-edit" onclick="editAppointment(${appointment.id})">Editar</button>
                            <button class="btn-delete" onclick="deleteAppointment(${appointment.id})">Cancelar</button>
                        </div>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        function sendManualConfirmation(appointmentId) {
            const appointment = appointments.find(a => a.id === appointmentId);
            if (!appointment) return;
            
            const client = clients.find(c => c.id === appointment.clientId);
            if (!client) return;
            
            const appointmentDate = new Date(appointment.date).toLocaleDateString('pt-BR');
            const serviceName = appointment.service.name;
            const servicePrice = appointment.service.price;
            const appointmentTime = appointment.time;
            
            const message = `Ol√° ${client.name}! üòä

‚úÖ *AGENDAMENTO CONFIRMADO*

üìÖ *Data:* ${appointmentDate}
üïê *Hor√°rio:* ${appointmentTime}
üíÖ *Servi√ßo:* ${serviceName}
üí∞ *Valor:* ${servicePrice}

J√° recebemos sua solicita√ß√£o de agendamento! Um dia antes iremos lhe enviar informa√ß√µes importantes sobre o servi√ßo.

üìç *Endere√ßo:*
Rua Manoel de Campos Salles, 461 - Sala 01
Bairro S√£o Crist√≥v√£o
Chapec√≥ - SC

Qualquer d√∫vida, estou √† disposi√ß√£o! üíï

*Aline Menezes Beauty*`;

            const cleanPhone = client.whatsapp.replace(/\D/g, '');
            const whatsappUrl = `https://wa.me/55${cleanPhone}?text=${encodeURIComponent(message)}`;
            
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
        }

        function editAppointment(id) {
            const appointment = appointments.find(a => a.id === id);
            if (!appointment) return;
            
            const newDate = prompt('Nova data (YYYY-MM-DD):', appointment.date);
            if (newDate === null) return;
            
            const newTime = prompt('Novo hor√°rio:', appointment.time);
            if (newTime === null) return;
            
            appointment.date = newDate;
            appointment.time = newTime;
            appointment.updated = new Date().toISOString();
            
            localStorage.setItem('appointments', JSON.stringify(appointments));
            loadAppointments();
            updateStats();
            showMessage('adminSuccess', 'Agendamento atualizado!', 'success');
        }

        function deleteAppointment(id) {
            const appointment = appointments.find(a => a.id === id);
            if (!appointment) return;
            
            if (confirm(`Cancelar agendamento de "${appointment.clientName}"?`)) {
                appointments = appointments.filter(a => a.id !== id);
                localStorage.setItem('appointments', JSON.stringify(appointments));
                loadAppointments();
                updateStats();
                showMessage('adminSuccess', 'Agendamento cancelado!', 'success');
            }
        }

        function filterAppointments() {
            const dateFilter = document.getElementById('dateFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            
            let filteredAppointments = [...appointments];
            
            // Date filter
            if (dateFilter !== 'all') {
                const today = new Date();
                const todayStr = today.toISOString().split('T')[0];
                
                if (dateFilter === 'today') {
                    filteredAppointments = filteredAppointments.filter(a => a.date === todayStr);
                } else if (dateFilter === 'week') {
                    const weekFromNow = new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000);
                    filteredAppointments = filteredAppointments.filter(a => 
                        a.date >= todayStr && a.date <= weekFromNow.toISOString().split('T')[0]
                    );
                } else if (dateFilter === 'month') {
                    const monthFromNow = new Date(today.getFullYear(), today.getMonth() + 1, today.getDate());
                    filteredAppointments = filteredAppointments.filter(a => 
                        a.date >= todayStr && a.date <= monthFromNow.toISOString().split('T')[0]
                    );
                }
            }
            
            // Status filter
            if (statusFilter !== 'all') {
                filteredAppointments = filteredAppointments.filter(a => 
                    (a.status || 'confirmed') === statusFilter
                );
            }
            
            displayAppointments(filteredAppointments);
        }

        // Service Management Functions
        function showAddServiceForm() {
            document.getElementById('addServiceForm').style.display = 'block';
        }

        function hideAddServiceForm() {
            document.getElementById('addServiceForm').style.display = 'none';
            // Clear form
            document.getElementById('newServiceName').value = '';
            document.getElementById('newServicePrice').value = '';
            document.getElementById('newServiceDuration').value = '';
            document.getElementById('newServiceDescription').value = '';
            document.getElementById('newServiceCategory').value = '';
            
            // Clear image preview
            const preview = document.getElementById('newServiceImagePreview');
            if (preview) {
                preview.style.backgroundImage = '';
                preview.innerHTML = 'üì∏<br>Clique para<br>Adicionar';
                preview.dataset.imageData = '';
            }
            document.getElementById('newServiceImageInput').value = '';
        }

        function addService(event) {
            event.preventDefault();
            
            const name = document.getElementById('newServiceName').value.trim();
            const price = parseFloat(document.getElementById('newServicePrice').value);
            const duration = parseInt(document.getElementById('newServiceDuration').value);
            const description = document.getElementById('newServiceDescription').value.trim();
            const category = document.getElementById('newServiceCategory').value;
            
            // Validate inputs
            if (!name) {
                alert('Nome do servi√ßo √© obrigat√≥rio!');
                return;
            }
            
            if (isNaN(price) || price <= 0) {
                alert('Pre√ßo inv√°lido!');
                return;
            }
            
            if (isNaN(duration) || duration <= 0) {
                alert('Dura√ß√£o inv√°lida!');
                return;
            }
            
            if (!category) {
                alert('Categoria √© obrigat√≥ria!');
                return;
            }
            
            // Check if service already exists
            const existingService = services.find(s => 
                s.name.toLowerCase() === name.toLowerCase()
            );
            
            if (existingService) {
                showMessage('adminSuccess', 'Servi√ßo j√° cadastrado com este nome!', 'error');
                return;
            }
            
            const newServiceId = Date.now();
            const newService = {
                id: newServiceId,
                name: name,
                price: price,
                duration: duration,
                description: description,
                category: category,
                created: new Date().toISOString()
            };
            
            services.push(newService);
            localStorage.setItem('services', JSON.stringify(services));
            
            // Handle image if uploaded
            const preview = document.getElementById('newServiceImagePreview');
            if (preview && preview.dataset.imageData) {
                const serviceImages = JSON.parse(localStorage.getItem('serviceImages') || '{}');
                const imageKey = `service-${newServiceId}`;
                serviceImages[imageKey] = preview.dataset.imageData;
                localStorage.setItem('serviceImages', JSON.stringify(serviceImages));
            }
            
            hideAddServiceForm();
            loadServices();
            loadServicesDropdown(); // Update client dropdown
            showMessage('adminSuccess', 'Servi√ßo adicionado com sucesso!', 'success');
        }

        function handleNewServiceImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // Check file size (max 5MB)
            if (file.size > 5 * 1024 * 1024) {
                alert('Imagem muito grande! M√°ximo 5MB.');
                return;
            }
            
            // Check file type
            if (!file.type.startsWith('image/')) {
                alert('Por favor, selecione apenas arquivos de imagem.');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('newServiceImagePreview');
                if (preview) {
                    preview.style.backgroundImage = `url(${e.target.result})`;
                    preview.innerHTML = '';
                    preview.dataset.imageData = e.target.result;
                }
            };
            reader.readAsDataURL(file);
        }

        function removeNewServiceImage() {
            const preview = document.getElementById('newServiceImagePreview');
            if (preview) {
                preview.style.backgroundImage = '';
                preview.innerHTML = 'üì∏<br>Clique para<br>Adicionar';
                preview.dataset.imageData = '';
            }
            document.getElementById('newServiceImageInput').value = '';
        }

        function loadServices() {
            displayServices(services);
        }

        function displayServices(serviceList) {
            const list = document.getElementById('servicesList');
            const count = document.getElementById('serviceCount');
            
            list.innerHTML = '';
            count.textContent = serviceList.length;
            
            serviceList.forEach(service => {
                const item = document.createElement('div');
                item.className = 'client-item';
                item.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start;">
                        <div>
                            <strong style="font-size: 16px; color: #2d3436;">${service.name}</strong><br>
                            <span style="color: #00b894; font-weight: bold; font-size: 18px;">R$ ${service.price.toFixed(2).replace('.', ',')}</span><br>
                            <span style="color: #636e72;">‚è±Ô∏è ${service.duration} minutos</span><br>
                            ${service.description ? `<span style="color: #636e72;">${service.description}</span><br>` : ''}
                            <small style="color: #95a5a6;">Criado: ${new Date(service.created || Date.now()).toLocaleDateString('pt-BR')}</small>
                        </div>
                        <div class="client-actions">
                            <button class="btn-edit" onclick="editService(${service.id})">Editar</button>
                            <button class="btn-delete" onclick="deleteService(${service.id})">Excluir</button>
                        </div>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        function editService(id) {
            const service = services.find(s => s.id === id);
            if (!service) return;
            
            showEditServiceModal(service);
        }

        function showEditServiceModal(service) {
            // Create modal HTML
            const modalHTML = `
                <div id="editServiceModal" class="modal" style="display: block;">
                    <div class="modal-content" style="max-width: 600px; max-height: 90vh; overflow-y: auto;">
                        <button class="close-btn" onclick="closeEditServiceModal()">&times;</button>
                        <div class="modal-header">
                            <h2 class="modal-title">Editar Servi√ßo</h2>
                            <p>Atualize as informa√ß√µes do servi√ßo</p>
                        </div>
                        
                        <form onsubmit="updateService(event, ${service.id})" style="display: grid; gap: 20px;">
                            <div class="form-group">
                                <label for="editServiceName" class="form-label">Nome do Servi√ßo</label>
                                <input type="text" id="editServiceName" class="form-input" value="${service.name}" required>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div class="form-group">
                                    <label for="editServicePrice" class="form-label">Pre√ßo (R$)</label>
                                    <input type="number" id="editServicePrice" class="form-input" value="${service.price}" step="0.01" min="0" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="editServiceDuration" class="form-label">Dura√ß√£o (minutos)</label>
                                    <input type="number" id="editServiceDuration" class="form-input" value="${service.duration}" min="15" step="15" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="editServiceDescription" class="form-label">Descri√ß√£o</label>
                                <textarea id="editServiceDescription" class="form-input" rows="3" placeholder="Descri√ß√£o do servi√ßo (opcional)">${service.description || ''}</textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="editServiceCategory" class="form-label">Categoria</label>
                                <select id="editServiceCategory" class="form-input" required>
                                    <option value="">Selecione uma categoria</option>
                                    <option value="cilios" ${(service.category === 'cilios') ? 'selected' : ''}>C√≠lios</option>
                                    <option value="sobrancelhas" ${(service.category === 'sobrancelhas') ? 'selected' : ''}>Sobrancelhas</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Imagem do Servi√ßo</label>
                                <div style="display: flex; align-items: center; gap: 20px;">
                                    <div style="width: 120px; height: 120px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 15px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); cursor: pointer; overflow: hidden;" onclick="document.getElementById('editServiceImageInput').click()">
                                        <div id="editServiceImagePreview" style="width: 100%; height: 100%; border-radius: 15px; background-size: cover; background-position: center; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; font-weight: 500; text-align: center; line-height: 1.3;">
                                            üì∏<br>Clique para<br>Adicionar
                                        </div>
                                    </div>
                                    <div style="flex: 1;">
                                        <input type="file" id="editServiceImageInput" accept="image/*" style="display: none;" onchange="handleEditServiceImageUpload(event)">
                                        <button type="button" class="btn" onclick="document.getElementById('editServiceImageInput').click()" style="background: #667eea; color: white; margin-bottom: 10px; width: 100%;">
                                            Escolher Imagem
                                        </button>
                                        <button type="button" class="btn" onclick="removeEditServiceImage()" style="background: #dc3545; color: white; width: 100%;">
                                            Remover Imagem
                                        </button>
                                        <small style="color: #636e72; display: block; margin-top: 8px;">
                                            Formatos aceitos: JPG, PNG, GIF<br>
                                            Tamanho m√°ximo: 5MB
                                        </small>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                                <button type="submit" class="form-btn">Salvar Altera√ß√µes</button>
                                <button type="button" class="btn" onclick="closeEditServiceModal()" style="background: #6c757d; color: white;">Cancelar</button>
                            </div>
                        </form>
                    </div>
                </div>
            `;
            
            // Add modal to body
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            
            // Load existing image if available
            loadEditServiceImage(service.id);
            
            // Auto-detect category if not set
            if (!service.category) {
                autoDetectServiceCategory(service.name);
            }
        }

        function autoDetectServiceCategory(serviceName) {
            const name = serviceName.toLowerCase();
            const categorySelect = document.getElementById('editServiceCategory');
            
            if (name.includes('extens√£o') || name.includes('c√≠lios') || name.includes('cilios') || 
                name.includes('lash') || name.includes('volume') || 
                (name.includes('manuten√ß√£o') && (name.includes('volume') || name.includes('brasileiro') || 
                name.includes('glamour') || name.includes('marrom') || name.includes('fox')))) {
                categorySelect.value = 'cilios';
            } else if (name.includes('sobrancelha') || name.includes('design') || 
                       name.includes('brow') || name.includes('henna') || 
                       name.includes('tintura') || name.includes('lamination')) {
                categorySelect.value = 'sobrancelhas';
            }
        }

        function loadEditServiceImage(serviceId) {
            const serviceImages = JSON.parse(localStorage.getItem('serviceImages') || '{}');
            const imageKey = `service-${serviceId}`;
            
            if (serviceImages[imageKey]) {
                const preview = document.getElementById('editServiceImagePreview');
                if (preview) {
                    preview.style.backgroundImage = `url(${serviceImages[imageKey]})`;
                    preview.innerHTML = '';
                }
            }
        }

        function handleEditServiceImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // Check file size (max 5MB)
            if (file.size > 5 * 1024 * 1024) {
                alert('Imagem muito grande! M√°ximo 5MB.');
                return;
            }
            
            // Check file type
            if (!file.type.startsWith('image/')) {
                alert('Por favor, selecione apenas arquivos de imagem.');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('editServiceImagePreview');
                if (preview) {
                    preview.style.backgroundImage = `url(${e.target.result})`;
                    preview.innerHTML = '';
                    preview.dataset.imageData = e.target.result;
                }
            };
            reader.readAsDataURL(file);
        }

        function removeEditServiceImage() {
            const preview = document.getElementById('editServiceImagePreview');
            if (preview) {
                preview.style.backgroundImage = '';
                preview.innerHTML = 'üì∏<br>Clique para<br>Adicionar';
                preview.dataset.imageData = '';
            }
            document.getElementById('editServiceImageInput').value = '';
        }

        function updateService(event, serviceId) {
            event.preventDefault();
            
            const service = services.find(s => s.id === serviceId);
            if (!service) return;
            
            const name = document.getElementById('editServiceName').value.trim();
            const price = parseFloat(document.getElementById('editServicePrice').value);
            const duration = parseInt(document.getElementById('editServiceDuration').value);
            const description = document.getElementById('editServiceDescription').value.trim();
            const category = document.getElementById('editServiceCategory').value;
            
            // Validate inputs
            if (!name) {
                alert('Nome do servi√ßo √© obrigat√≥rio!');
                return;
            }
            
            if (isNaN(price) || price <= 0) {
                alert('Pre√ßo inv√°lido!');
                return;
            }
            
            if (isNaN(duration) || duration <= 0) {
                alert('Dura√ß√£o inv√°lida!');
                return;
            }
            
            if (!category) {
                alert('Categoria √© obrigat√≥ria!');
                return;
            }
            
            // Check if another service has the same name (excluding current service)
            const existingService = services.find(s => 
                s.id !== serviceId && s.name.toLowerCase() === name.toLowerCase()
            );
            
            if (existingService) {
                alert('J√° existe um servi√ßo com este nome!');
                return;
            }
            
            // Update service
            service.name = name;
            service.price = price;
            service.duration = duration;
            service.description = description;
            service.category = category;
            service.updated = new Date().toISOString();
            
            // Handle image
            const preview = document.getElementById('editServiceImagePreview');
            const serviceImages = JSON.parse(localStorage.getItem('serviceImages') || '{}');
            const imageKey = `service-${serviceId}`;
            
            if (preview && preview.dataset.imageData) {
                // New image uploaded
                serviceImages[imageKey] = preview.dataset.imageData;
            } else if (preview && preview.innerHTML.includes('üì∏')) {
                // Image was removed
                delete serviceImages[imageKey];
            }
            
            // Save everything
            localStorage.setItem('services', JSON.stringify(services));
            localStorage.setItem('serviceImages', JSON.stringify(serviceImages));
            
            closeEditServiceModal();
            loadServices();
            loadServicesDropdown(); // Update client dropdown
            showMessage('adminSuccess', 'Servi√ßo atualizado com sucesso!', 'success');
        }

        function closeEditServiceModal() {
            const modal = document.getElementById('editServiceModal');
            if (modal) {
                modal.remove();
            }
        }

        function deleteService(id) {
            const service = services.find(s => s.id === id);
            if (!service) return;
            
            if (confirm(`Excluir servi√ßo "${service.name}"?`)) {
                services = services.filter(s => s.id !== id);
                localStorage.setItem('services', JSON.stringify(services));
                loadServices();
                loadServicesDropdown(); // Update client dropdown
                showMessage('adminSuccess', 'Servi√ßo exclu√≠do!', 'success');
            }
        }

        // Birthday Functions
        function loadBirthdayClients() {
            const currentMonth = new Date().getMonth() + 1; // JavaScript months are 0-indexed
            const birthdayClients = clients.filter(client => {
                if (!client.birthdate) return false;
                const clientMonth = new Date(client.birthdate).getMonth() + 1;
                return clientMonth === currentMonth;
            });
            
            displayBirthdayClients(birthdayClients);
        }

        function displayBirthdayClients(birthdayClients) {
            const container = document.getElementById('birthdayClients');
            
            if (birthdayClients.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #636e72; margin: 20px 0;">Nenhum aniversariante este m√™s</p>';
                return;
            }
            
            container.innerHTML = '';
            
            birthdayClients.forEach(client => {
                const item = document.createElement('div');
                item.className = 'birthday-item';
                
                const birthDate = new Date(client.birthdate);
                const day = birthDate.getDate();
                const month = birthDate.toLocaleDateString('pt-BR', { month: 'long' });
                
                item.innerHTML = `
                    <div class="birthday-info">
                        <strong>${client.name}</strong>
                        <small>üéÇ ${day} de ${month} | üì± ${client.whatsapp}</small>
                    </div>
                    <button class="btn-birthday" onclick="sendBirthdayDiscount('${client.whatsapp}', '${client.name}')">
                        Enviar Desconto Anivers√°rio
                    </button>
                `;
                
                container.appendChild(item);
            });
        }

        function sendBirthdayDiscount(whatsapp, name) {
            const message = `Ol√°, ${name}! üíï

O m√™s do seu anivers√°rio chegou e eu n√£o poderia deixar de te parabenizar! ü•≥

Desejo um novo ciclo cheio de amor, paz e muitas realiza√ß√µes üå∏

Pra deixar seu m√™s ainda mais especial, preparei um desconto de 10% em um procedimento √† sua escolha aqui no est√∫dio! üíÜ‚Äç‚ôÄÔ∏èüíñ

Aproveite esse mimo e agende seu momento de autocuidado!

üìç Rua Manoel Ferraz de Campos Salles, 461, Sala 06 ‚Äì S√£o Crist√≥v√£o, Chapec√≥/SC

üìû √â s√≥ me chamar por aqui pra marcar seu hor√°rio!

Com carinho,
‚ú® Aline Menezes Beauty Studio ‚ú®`;

            const cleanPhone = whatsapp.replace(/\D/g, '');
            const whatsappUrl = `https://wa.me/55${cleanPhone}?text=${encodeURIComponent(message)}`;
            
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
        }

        // Stats Functions
        function updateStats() {
            // Total clients
            document.getElementById('totalClients').textContent = clients.length;
            
            // Today's appointments
            const today = new Date().toISOString().split('T')[0];
            const todayAppointments = appointments.filter(a => a.date === today);
            document.getElementById('todayAppointments').textContent = todayAppointments.length;
            
            // This month's appointments
            const currentMonth = new Date().getMonth();
            const currentYear = new Date().getFullYear();
            const monthAppointments = appointments.filter(a => {
                const appointmentDate = new Date(a.date);
                return appointmentDate.getMonth() === currentMonth && appointmentDate.getFullYear() === currentYear;
            });
            document.getElementById('monthAppointments').textContent = monthAppointments.length;
            
            // Month revenue
            let monthRevenue = 0;
            monthAppointments.forEach(appointment => {
                const priceStr = appointment.service.price.replace('R$ ', '').replace(',', '.');
                monthRevenue += parseFloat(priceStr) || 0;
            });
            document.getElementById('monthRevenue').textContent = `R$ ${monthRevenue.toFixed(2).replace('.', ',')}`;
            
            // Load upcoming appointments
            loadUpcomingAppointments();
        }

        function loadUpcomingAppointments() {
            const today = new Date();
            const nextWeek = new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000);
            
            const upcomingAppointments = appointments
                .filter(a => {
                    const appointmentDate = new Date(a.date);
                    return appointmentDate >= today && appointmentDate <= nextWeek;
                })
                .sort((a, b) => new Date(a.date) - new Date(b.date))
                .slice(0, 5);
            
            const container = document.getElementById('upcomingAppointments');
            
            if (upcomingAppointments.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #636e72;">Nenhum agendamento pr√≥ximo</p>';
                return;
            }
            
            container.innerHTML = '';
            
            upcomingAppointments.forEach(appointment => {
                const item = document.createElement('div');
                item.className = 'client-item';
                item.innerHTML = `
                    <strong>${appointment.clientName}</strong><br>
                    <span style="color: #636e72;">üìÖ ${new Date(appointment.date).toLocaleDateString('pt-BR')} √†s ${appointment.time}</span><br>
                    <span style="color: #636e72;">üíÖ ${appointment.service.name}</span>
                `;
                container.appendChild(item);
            });
        }

        // Catalog Functions
        let currentCategoryFilter = 'cilios';

        function loadCatalogContent() {
            filterByCategory(currentCategoryFilter);
            // Load images after content is loaded
            setTimeout(loadServiceImages, 100);
        }

        function filterByCategory(category) {
            currentCategoryFilter = category;
            
            // Update active button
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-category="${category}"]`).classList.add('active');
            
            const catalogContent = document.getElementById('catalogContent');
            catalogContent.innerHTML = '';
            
            // Group services by category
            const categories = {
                'C√≠lios': [],
                'Sobrancelhas': []
            };
            
            services.forEach(service => {
                // Use the service's category if available, otherwise auto-detect
                let serviceCategory = service.category;
                
                if (!serviceCategory) {
                    const serviceName = service.name.toLowerCase();
                    
                    // Auto-categorize services for C√≠lios
                    if (serviceName.includes('extens√£o') || 
                        serviceName.includes('c√≠lios') || 
                        serviceName.includes('cilios') ||
                        serviceName.includes('lash') ||
                        serviceName.includes('volume') ||
                        (serviceName.includes('manuten√ß√£o') && (serviceName.includes('volume') || serviceName.includes('brasileiro') || serviceName.includes('glamour') || serviceName.includes('marrom') || serviceName.includes('fox')))) {
                        serviceCategory = 'cilios';
                    }
                    // Auto-categorize services for Sobrancelhas
                    else if (serviceName.includes('sobrancelha') || 
                             serviceName.includes('design') || 
                             serviceName.includes('brow') ||
                             serviceName.includes('henna') ||
                             serviceName.includes('tintura') ||
                             serviceName.includes('lamination')) {
                        serviceCategory = 'sobrancelhas';
                    }
                }
                
                // Add to appropriate category
                if (serviceCategory === 'cilios') {
                    categories['C√≠lios'].push(service);
                } else if (serviceCategory === 'sobrancelhas') {
                    categories['Sobrancelhas'].push(service);
                }
            });
            
            // Filter categories based on selection
            let categoriesToShow = {};
            if (category === 'all') {
                categoriesToShow = categories;
            } else if (category === 'cilios') {
                categoriesToShow = { 'C√≠lios': categories['C√≠lios'] };
            } else if (category === 'sobrancelhas') {
                categoriesToShow = { 'Sobrancelhas': categories['Sobrancelhas'] };
            }
            
            // Display each category
            Object.keys(categoriesToShow).forEach(categoryName => {
                if (categoriesToShow[categoryName].length > 0) {
                    const categorySection = document.createElement('div');
                    categorySection.innerHTML = `
                        <div style="margin-bottom: 35px;">
                            <h3 style="color: #2d3436; font-size: 22px; font-weight: 600; margin-bottom: 25px; padding: 15px 20px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border-radius: 15px; text-align: center; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); text-transform: uppercase; letter-spacing: 1px;">
                                ${categoryName}
                            </h3>
                            <div style="display: grid; gap: 15px;">
                                ${categoriesToShow[categoryName].map(service => createServiceCard(service)).join('')}
                            </div>
                        </div>
                    `;
                    catalogContent.appendChild(categorySection);
                }
            });
        }
        
        function getCategoryIcon(categoryName) {
            return '';
        }
        
        function createServiceCard(service) {
            const serviceName = service.name.toLowerCase();
            
            // Check if this service has maintenance options (only specific volume services)
            const hasMaintenanceOptions = (serviceName.includes('volume brasileiro') || 
                                         serviceName.includes('volume marrom') || 
                                         serviceName.includes('volume glamour') || 
                                         serviceName.includes('volume fox')) && 
                                        !serviceName.includes('manuten√ß√£o');
            
            const isMaintenanceService = serviceName.includes('manuten√ß√£o');
            
            // Skip maintenance services as they are now shown within main services
            if (isMaintenanceService) {
                return '';
            }
            
            // Get maintenance prices for application services (only for services that have maintenance)
            let maintenancePrices = { price15: null, price20: null };
            if (hasMaintenanceOptions) {
                // Find 15-day maintenance
                const maintenance15 = services.find(s => {
                    const maintenanceName = s.name.toLowerCase();
                    return maintenanceName.includes('manuten√ß√£o') && 
                           maintenanceName.includes('15 dias') &&
                           (serviceName.includes('brasileiro') && maintenanceName.includes('brasileiro') ||
                            serviceName.includes('glamour') && maintenanceName.includes('glamour') ||
                            serviceName.includes('marrom') && maintenanceName.includes('marrom') ||
                            serviceName.includes('fox') && maintenanceName.includes('fox'));
                });
                
                // Find 20-day maintenance
                const maintenance20 = services.find(s => {
                    const maintenanceName = s.name.toLowerCase();
                    return maintenanceName.includes('manuten√ß√£o') && 
                           maintenanceName.includes('20 dias') &&
                           (serviceName.includes('brasileiro') && maintenanceName.includes('brasileiro') ||
                            serviceName.includes('glamour') && maintenanceName.includes('glamour') ||
                            serviceName.includes('marrom') && maintenanceName.includes('marrom') ||
                            serviceName.includes('fox') && maintenanceName.includes('fox'));
                });
                
                if (maintenance15) maintenancePrices.price15 = maintenance15.price;
                if (maintenance20) maintenancePrices.price20 = maintenance20.price;
            }
            
            return `
                <div class="service-card-mobile" style="background: white; padding: 15px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 2px solid #f8f9fa; transition: all 0.3s ease; cursor: pointer;" onclick="toggleServiceDetails('service-${service.id}')">
                    <div class="service-header-mobile" style="margin-bottom: 12px;">
                        <h4 style="color: #2d3436; font-size: 15px; font-weight: 600; margin: 0 0 8px 0; line-height: 1.3;">
                            ${service.name}
                        </h4>
                        ${service.description ? `<p style="color: #636e72; font-size: 13px; margin: 0 0 10px 0; line-height: 1.4;">${service.description}</p>` : ''}
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                            <div style="color: #00b894; font-size: 16px; font-weight: 700;">
                                R$ ${service.price.toFixed(2).replace('.', ',')}
                            </div>
                            <div style="background: linear-gradient(45deg, #667eea, #764ba2); color: white; padding: 6px 12px; border-radius: 15px; font-weight: 500; font-size: 12px;">
                                Ver Detalhes ‚ñº
                            </div>
                        </div>
                        <div style="color: #636e72; font-size: 11px; margin-top: 5px;">
                            ‚è±Ô∏è ${service.duration} min
                        </div>
                    </div>
                    
                    <div id="service-${service.id}" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 2px solid #f8f9fa;">
                        <div style="background: linear-gradient(135deg, #f8f9ff, #e8f2ff); padding: 15px; border-radius: 15px; border: 2px solid #667eea;">
                            <div style="text-align: center; margin-bottom: 15px;">
                                <div style="width: 100px; height: 100px; margin: 0 auto 12px auto; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 15px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); overflow: hidden;">
                                    <div id="service-image-${service.id}" style="width: 100%; height: 100%; border-radius: 15px; background-size: cover; background-position: center; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: 500; text-align: center; line-height: 1.2;">
                                        ${getServiceImageOrPlaceholder(service.id)}
                                    </div>
                                </div>
                            </div>
                            
                            <h5 style="color: #2d3436; margin: 0 0 12px 0; font-size: 14px; font-weight: 600; text-align: center;">${service.name}</h5>
                            
                            ${service.description ? `
                                <div style="background: white; padding: 12px; border-radius: 10px; margin-bottom: 12px; text-align: center;">
                                    <div style="color: #2d3436; font-size: 12px; font-weight: 500; margin-bottom: 5px;">üìù Descri√ß√£o</div>
                                    <div style="color: #636e72; font-size: 11px; line-height: 1.4;">${service.description}</div>
                                </div>
                            ` : ''}
                            
                            ${hasMaintenanceOptions ? `
                                <div class="maintenance-grid-mobile" style="display: grid; grid-template-columns: 1fr; gap: 8px; margin-bottom: 12px;">
                                    <div style="background: white; padding: 12px; border-radius: 10px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                                        <div style="color: #667eea; font-weight: 600; font-size: 11px; margin-bottom: 6px;">‚ú® APLICA√á√ÉO COMPLETA</div>
                                        <div style="color: #2d3436; font-size: 16px; font-weight: 700;">R$ ${service.price.toFixed(2).replace('.', ',')}</div>
                                        <div style="color: #636e72; font-size: 10px; margin-top: 3px;">‚è±Ô∏è ${service.duration} min</div>
                                    </div>
                                    
                                    <div style="background: white; padding: 12px; border-radius: 10px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                                        <div style="color: #00b894; font-weight: 600; font-size: 11px; margin-bottom: 6px;">üîÑ MANUTEN√á√ÉO AT√â 15 DIAS</div>
                                        <div style="color: #2d3436; font-size: 16px; font-weight: 700;">R$ ${maintenancePrices.price15 ? maintenancePrices.price15.toFixed(2).replace('.', ',') : '60,00'}</div>
                                        <div style="color: #636e72; font-size: 10px; margin-top: 3px;">‚è±Ô∏è 60-75 min</div>
                                    </div>
                                    
                                    <div style="background: white; padding: 12px; border-radius: 10px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                                        <div style="color: #e17055; font-weight: 600; font-size: 11px; margin-bottom: 6px;">üîÑ MANUTEN√á√ÉO AT√â 20 DIAS</div>
                                        <div style="color: #2d3436; font-size: 16px; font-weight: 700;">R$ ${maintenancePrices.price20 ? maintenancePrices.price20.toFixed(2).replace('.', ',') : '70,00'}</div>
                                        <div style="color: #636e72; font-size: 10px; margin-top: 3px;">‚è±Ô∏è 70-90 min</div>
                                    </div>
                                </div>
                                
                                <div style="background: rgba(102, 126, 234, 0.1); padding: 12px; border-radius: 10px; text-align: center;">
                                    <div style="color: #2d3436; font-size: 12px; font-weight: 500; margin-bottom: 6px;">üìÖ Recomenda√ß√£o</div>
                                    <div style="color: #636e72; font-size: 11px; line-height: 1.4;">
                                        Manuten√ß√£o a cada <strong>15-20 dias</strong><br>
                                        <small style="color: #e17055; font-weight: 500;">‚ö†Ô∏è Ap√≥s 20 dias: valor de nova aplica√ß√£o</small>
                                    </div>
                                </div>
                            ` : `
                                <div style="display: grid; grid-template-columns: 1fr; gap: 10px; margin-bottom: 12px;">
                                    <div style="background: white; padding: 15px; border-radius: 12px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                                        <div style="color: #667eea; font-weight: 600; font-size: 14px; margin-bottom: 8px;">üí∞ VALOR</div>
                                        <div style="color: #2d3436; font-size: 20px; font-weight: 700; margin-bottom: 6px;">R$ ${service.price.toFixed(2).replace('.', ',')}</div>
                                        <div style="color: #636e72; font-size: 12px;">‚è±Ô∏è Dura√ß√£o: ${service.duration} minutos</div>
                                    </div>
                                </div>
                            `}
                        </div>
                    </div>
                </div>
            `;
        }

        // Toggle service details function
        function toggleServiceDetails(serviceId) {
            const detailsElement = document.getElementById(serviceId);
            if (detailsElement) {
                if (detailsElement.style.display === 'none' || detailsElement.style.display === '') {
                    detailsElement.style.display = 'block';
                    detailsElement.style.animation = 'slideDown 0.3s ease';
                } else {
                    detailsElement.style.display = 'none';
                }
            }
        }

        // Image handling functions
        function selectServiceImage(serviceId) {
            const inputId = 'image-input-' + serviceId.replace('service-', '');
            document.getElementById(inputId).click();
        }

        function handleImageUpload(event, serviceId) {
            const file = event.target.files[0];
            if (!file) return;
            
            // Check file size (max 5MB)
            if (file.size > 5 * 1024 * 1024) {
                alert('Imagem muito grande! M√°ximo 5MB.');
                return;
            }
            
            // Check file type
            if (!file.type.startsWith('image/')) {
                alert('Por favor, selecione apenas arquivos de imagem.');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const imageElement = document.getElementById('service-image-' + serviceId.replace('service-', ''));
                if (imageElement) {
                    imageElement.style.backgroundImage = `url(${e.target.result})`;
                    imageElement.innerHTML = '';
                    
                    // Save image to localStorage
                    const serviceImages = JSON.parse(localStorage.getItem('serviceImages') || '{}');
                    serviceImages[serviceId] = e.target.result;
                    localStorage.setItem('serviceImages', JSON.stringify(serviceImages));
                }
            };
            reader.readAsDataURL(file);
        }

        function loadServiceImages() {
            const serviceImages = JSON.parse(localStorage.getItem('serviceImages') || '{}');
            Object.keys(serviceImages).forEach(serviceId => {
                const imageElement = document.getElementById('service-image-' + serviceId.replace('service-', ''));
                if (imageElement) {
                    imageElement.style.backgroundImage = `url(${serviceImages[serviceId]})`;
                    imageElement.innerHTML = '';
                }
            });
        }

        // Function to get service image or placeholder
        function getServiceImageOrPlaceholder(serviceId) {
            const serviceImages = JSON.parse(localStorage.getItem('serviceImages') || '{}');
            const imageKey = `service-${serviceId}`;
            
            if (serviceImages[imageKey]) {
                return `<div style="width: 100%; height: 100%; background-image: url(${serviceImages[imageKey]}); background-size: cover; background-position: center; border-radius: 15px;"></div>`;
            } else {
                return 'üíÖ<br>Imagem<br>Indispon√≠vel';
            }
        }

        // Share catalog function
        function shareCatalog() {
            const message = `Ol√°! Gostaria de compartilhar com voc√™ o *Cat√°logo ALINE MENEZES BEAUTY* completo de servi√ßos! https://alinemenezes-dev.github.io/menagerbeautyaline/ Entre em contato para agendar seu hor√°rio! E eleve sua autoestima!`;

            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Load initial data if admin panel is shown
            if (currentUser && currentUser.role === 'admin') {
                updateStats();
                loadBirthdayClients();
            }
            
            // Load service images after a short delay to ensure DOM is ready
            setTimeout(loadServiceImages, 500);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98ffbde2207501ac',t:'MTc2MDcwMzUzOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
<!-- üî• SINCRONIZA√á√ÉO SUPABASE -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  // ‚öôÔ∏è CONFIGURA√á√ÉO DO SUPABASE
  const SUPABASE_URL = 'https://hpenhkikpbykhfdwryob.supabase.co';
  const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhwZW5oa2lrcGJ5a2hmZHdyeW9iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NTQwOTIsImV4cCI6MjA3NjIzMDA5Mn0.xGWlQj38ixf7ScwGI-7LA4K7KuhKoYd3DcwrP8u18yE';
  const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

  // üß© FUN√á√ÉO UNIVERSAL PARA SALVAR CONFIGURA√á√ïES DO ADMIN
  async function salvarConfiguracoesAdmin(config) {
    try {
      const { error } = await supabase
        .from('admin_config')
        .upsert({ id: 1, ...config, updated_at: new Date() }, { onConflict: 'id' });
      if (error) throw error;
      console.log('‚úÖ Configura√ß√µes do admin salvas com sucesso no Supabase!');
    } catch (err) {
      console.error('‚ùå Erro ao salvar configura√ß√µes do admin:', err.message);
    }
  
  salvarConfiguracoesAdmin({
  studio_name: document.querySelector('#studioNameInput').value,
  studio_logo: document.querySelector('#logoInput').value,
  background_image: document.querySelector('#bgInput').value
});


  // üì¶ FUN√á√ÉO UNIVERSAL PARA SALVAR CLIENTES
  async function salvarCliente(cliente) {
    try {
      const { error } = await supabase
        .from('clientes')
        .insert([{ ...cliente, created_at: new Date() }]);
      if (error) throw error;
      console.log('‚úÖ Cliente salvo com sucesso no Supabase!');
    } catch (err) {
      console.error('‚ùå Erro ao salvar cliente:', err.message);
    }
  }
      salvarCliente({
  nome: document.querySelector('#nome').value,
  telefone: document.querySelector('#telefone').value,
  email: document.querySelector('#email').value,
  servico: document.querySelector('#servico').value,
  data: new Date().toISOString()
});


  // üì• CARREGAR CONFIGURA√á√ïES DO ADMIN AO ABRIR O SITE
  async function carregarConfiguracoesAdmin() {
    try {
      const { data, error } = await supabase
        .from('admin_config')
        .select('*')
        .eq('id', 1)
        .single();

      if (error) throw error;
      if (data) aplicarConfiguracoesAdmin(data);
    } catch (err) {
      console.warn('‚ö†Ô∏è Nenhuma configura√ß√£o de admin encontrada ainda.');
    }
  }

  // üé® APLICAR CONFIGURA√á√ïES NA INTERFACE
  function aplicarConfiguracoesAdmin(data) {
    // Ajuste os seletores abaixo conforme o seu HTML
    if (data.studio_name && document.querySelector('#studioName'))
      document.querySelector('#studioName').textContent = data.studio_name;

    if (data.background_image)
      document.body.style.backgroundImage = `url(${data.background_image})`;

    if (data.studio_logo && document.querySelector('#studioLogo'))
      document.querySelector('#studioLogo').src = data.studio_logo;

    console.log('üé® Configura√ß√µes do admin aplicadas no site.');
  }

  // üîÅ Carregar automaticamente ao abrir
  document.addEventListener('DOMContentLoaded', carregarConfiguracoesAdmin);

  /* 
  ü™Ñ COMO USAR:
  Quando o admin clicar em "Salvar", adicione esta linha no seu c√≥digo JS existente:
  
  salvarConfiguracoesAdmin({
    studio_name: document.querySelector('#studioNameInput').value,
    studio_logo: document.querySelector('#logoInput').value,
    background_image: document.querySelector('#bgInput').value
  });

  Quando uma cliente for cadastrada:
  salvarCliente({
    nome: nomeInput.value,
    telefone: telefoneInput.value,
    email: emailInput.value,
    servico: servicoSelecionado.value,
    data: new Date().toISOString()
  });
  */
</script>
<!-- üî• FIM DA SINCRONIZA√á√ÉO SUPABASE -->


